import{a as en,b as mc,c as vc,d as _c,e as tn,f as Ic,g as wt,h as Ec,o as yc,p as wc,q as Tc,s as bc}from"./chunk-LIW7RA6P.js";import{$ as w,$a as Qa,A as Yt,Aa as Ze,Ab as oc,B as Pa,Bc as Qi,C as Yn,Ca as zi,Cc as nr,Da as qi,E as Ee,Ea as Gi,F as Ye,Fa as Et,Fc as pc,G as Je,Ga as yt,Gc as rr,H as Li,Ha as $a,I as It,Ia as ja,Ic as gc,J as Jn,Ja as Wa,Jb as ac,K as Ne,Ka as Ba,L as Ui,La as za,M as Oa,Ma as qa,N as Da,Na as Ga,Nb as cc,O as Na,Oa as Qe,P as j,Pb as uc,Q as xi,Qb as lc,R as D,Ra as Ka,S as Fi,T as Ma,Ta as Zt,U as C,Ua as Ya,V as Vi,Va as Ja,Wa as Xa,X as E,Xa as et,Y as Xn,Ya as V,Z as La,Za,_ as k,a as p,aa as g,ab as Ki,b as P,ba as Xe,bb as ee,c as Pi,ca as Ua,cb as ec,d as De,da as ye,db as tc,e as l,ea as U,eb as nc,f as ba,fb as er,g as Sa,gb as rc,h as ve,hb as tr,i as Oi,ia as Q,ib as Qt,j as Di,ja as W,k as _e,ka as Hi,l as X,la as $i,m as Aa,ma as Zn,n as Ra,nb as Yi,o as Ie,oa as Jt,ob as ic,p as Gn,pb as Ji,q as Ni,qa as xa,qb as Xi,r as Mi,ra as Qn,rb as Zi,s as L,sa as Me,sb as sc,sc as dc,t as v,ta as Xt,u as Kt,ua as ji,uc as Le,v as Ca,va as Fa,w as ka,wa as Wi,x as S,xa as Va,xc as hc,y as Kn,ya as Bi,yc as fc,z as $,za as Ha}from"./chunk-OPN7DFH2.js";var nn=class{_doc;constructor(e){this._doc=e}manager},ir=(()=>{class n extends nn{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(w(W))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),or=new k(""),is=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this});let i=t.filter(o=>!(o instanceof ir));this._plugins=i.slice().reverse();let s=t.find(o=>o instanceof ir);s&&this._plugins.push(s)}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(w(or),w(V))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),es="ng-app-id";function Sc(n){for(let e of n)e.remove()}function Ac(n,e){let t=e.createElement("style");return t.textContent=n,t}function Zd(n,e,t,r){let i=n.head?.querySelectorAll(`style[${es}="${e}"],link[${es}="${e}"]`);if(i)for(let s of i)s.removeAttribute(es),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function ns(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var ss=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,Zd(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Ac);r?.forEach(i=>this.addUsage(i,this.external,ns))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Sc(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Sc(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Ac(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,ns(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(w(W),w(Bi),w(zi,8),w(Ze))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),ts={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},os=/%COMP%/g;var Cc="%COMP%",Qd=`_nghost-${Cc}`,eh=`_ngcontent-${Cc}`,th=!0,nh=new k("",{providedIn:"root",factory:()=>th});function rh(n){return eh.replace(os,n)}function ih(n){return Qd.replace(os,n)}function kc(n,e){return e.map(t=>t.replace(os,n))}var as=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,s,o,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new rn(t,o,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof sr?i.applyToHost(t):i instanceof sn&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case Gi.Emulated:s=new sr(c,u,r,this.appId,d,o,a,f,h);break;case Gi.ShadowDom:return new rs(c,u,t,r,o,a,this.nonce,f,h);default:s=new sn(c,u,r,d,o,a,f,h);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(w(is),w(ss),w(Bi),w(nh),w(W),w(Ze),w(V),w(zi),w(Ja,8))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),rn=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(ts[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Rc(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Rc(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=ts[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=ts[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Zt.DashCase|Zt.Important)?e.style.setProperty(t,r,i&Zt.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Zt.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=en().getGlobalEventTarget(this.doc,e),!e))throw new C(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Rc(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var rs=class extends rn{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,s,o,a,c,u){super(e,s,o,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=kc(i.id,d);for(let h of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=h,this.shadowRoot.appendChild(m)}let f=i.getExternalStyles?.();if(f)for(let h of f){let m=ns(h,s);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},sn=class extends rn{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,a,c,u){super(e,s,o,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?kc(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ya.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},sr=class extends sn{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,c,u){let d=i+"-"+r.id;super(e,t,r,s,o,a,c,u,d),this.contentAttr=rh(d),this.hostAttr=ih(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var ar=class n extends vc{supportsDOMEvents=!0;static makeCurrent(){mc(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=oh();return t==null?null:ah(t)}resetBaseElement(){on=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return yc(document.cookie,e)}},on=null;function oh(){return on=on||document.head.querySelector("base"),on?on.getAttribute("href"):null}function ah(n){return new URL(n,document.baseURI).pathname}var ch=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),Pc=["alt","control","meta","shift"],uh={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Oc=(()=>{class n extends nn{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>en().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Pc.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=uh[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Pc.forEach(o=>{if(o!==i){let a=lh[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(w(W))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})();function dh(n,e,t){let r=p({rootComponent:n,platformRef:t?.platformRef},hh(e));return pc(r)}function hh(n){return{appProviders:[...vh,...n?.providers??[]],platformProviders:mh}}function fh(){ar.makeCurrent()}function ph(){return new $i}function gh(){return Va(document),document}var mh=[{provide:Ze,useValue:Tc},{provide:Ha,useValue:fh,multi:!0},{provide:W,useFactory:gh}];var vh=[{provide:Ua,useValue:"root"},{provide:$i,useFactory:ph},{provide:or,useClass:ir,multi:!0,deps:[W]},{provide:or,useClass:Oc,multi:!0,deps:[W]},as,ss,is,{provide:Qa,useExisting:as},{provide:wc,useClass:ch},[]];var Dc=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(w(W))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ih=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=w(Eh),i},providedIn:"root"})}return n})(),Eh=(()=>{class n extends Ih{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case Qe.NONE:return r;case Qe.HTML:return yt(r,"HTML")?Et(r):Ga(this._doc,String(r)).toString();case Qe.STYLE:return yt(r,"Style")?Et(r):r;case Qe.SCRIPT:if(yt(r,"Script"))return Et(r);throw new C(5200,!1);case Qe.URL:return yt(r,"URL")?Et(r):qa(String(r));case Qe.RESOURCE_URL:if(yt(r,"ResourceURL"))return Et(r);throw new C(5201,!1);default:throw new C(5202,!1)}}bypassSecurityTrustHtml(t){return $a(t)}bypassSecurityTrustStyle(t){return ja(t)}bypassSecurityTrustScript(t){return Wa(t)}bypassSecurityTrustUrl(t){return Ba(t)}bypassSecurityTrustResourceUrl(t){return za(t)}static \u0275fac=function(r){return new(r||n)(w(W))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Nc=()=>{};var Uc=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},wh=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},cr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,m=u&63;c||(m=64,o||(h=64)),r.push(t[d],t[f],t[h],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Uc(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):wh(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new us;let h=s<<2|a>>4;if(r.push(h),u!==64){let m=a<<4&240|u>>2;if(r.push(m),f!==64){let y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},us=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Th=function(n){let e=Uc(n);return cr.encodeByteArray(e,!0)},cn=function(n){return Th(n).replace(/\./g,"")},ur=function(n){try{return cr.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xc(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var bh=()=>xc().__FIREBASE_DEFAULTS__,Sh=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Ah=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&ur(n[1]);return e&&JSON.parse(e)},ds=()=>{try{return Nc()||bh()||Sh()||Ah()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hs=n=>{var e,t;return(t=(e=ds())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},sy=n=>{let e=hs(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},fs=()=>{var n;return(n=ds())===null||n===void 0?void 0:n.config},ps=n=>{var e;return(e=ds())===null||e===void 0?void 0:e[`_${n}`]};var tt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function un(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Fc(n){return l(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function oy(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cn(JSON.stringify(t)),cn(JSON.stringify(o)),""].join(".")}var an={};function Rh(){let n={prod:[],emulator:[]};for(let e of Object.keys(an))an[e]?n.emulator.push(e):n.prod.push(e);return n}function Ch(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var Mc=!1;function Vc(n,e){if(typeof window>"u"||typeof document>"u"||!un(window.location.host)||an[n]===e||an[n]||Mc)return;an[n]=e;function t(h){return`__firebase__banner__${h}`}let r="__firebase__banner",s=Rh().prod.length>0;function o(){let h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){let h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Mc=!0,o()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){let h=Ch(r),m=t("text"),y=document.getElementById(m)||document.createElement("span"),F=t("learnmore"),M=document.getElementById(F)||document.createElement("a"),B=t("preprendIcon"),Z=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){let J=h.element;a(J),d(M,F);let qn=u();c(Z,B),J.append(Z,y,M,qn),document.body.appendChild(J)}s?(y.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function x(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())}function $c(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jc(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Wc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bc(){let n=x();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function lr(){try{return typeof indexedDB=="object"}catch{return!1}}function zc(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var kh="FirebaseError",te=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=kh,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ne.prototype.create)}},ne=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Ph(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new te(i,a,r)}};function Ph(n,e){return n.replace(Oh,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Oh=/\{\$([^}]+)}/g;function qc(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ue(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(Lc(s)&&Lc(o)){if(!Ue(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Lc(n){return n!==null&&typeof n=="object"}function bt(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gc(n,e){let t=new ls(n,e);return t.subscribe.bind(t)}var ls=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Dh(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=cs),i.error===void 0&&(i.error=cs),i.complete===void 0&&(i.complete=cs);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Dh(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cs(){}var ay=14400*1e3;function we(n){return n&&n._delegate?n._delegate:n}var z=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var nt="[DEFAULT]";var gs=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new tt;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Mh(e))try{this.getOrInitializeService({instanceIdentifier:nt})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=nt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return l(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=nt){return this.instances.has(e)}getOptions(e=nt){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Nh(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=nt){return this.component?this.component.multipleInstances?e:nt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Nh(n){return n===nt?void 0:n}function Mh(n){return n.instantiationMode==="EAGER"}var dr=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new gs(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Lh=[],A=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(A||{}),Uh={debug:A.DEBUG,verbose:A.VERBOSE,info:A.INFO,warn:A.WARN,error:A.ERROR,silent:A.SILENT},xh=A.INFO,Fh={[A.DEBUG]:"log",[A.VERBOSE]:"log",[A.INFO]:"info",[A.WARN]:"warn",[A.ERROR]:"error"},Vh=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Fh[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},xe=class{constructor(e){this.name=e,this._logLevel=xh,this._logHandler=Vh,this._userLogHandler=null,Lh.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in A))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Uh[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,A.DEBUG,...e),this._logHandler(this,A.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,A.VERBOSE,...e),this._logHandler(this,A.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,A.INFO,...e),this._logHandler(this,A.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,A.WARN,...e),this._logHandler(this,A.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,A.ERROR,...e),this._logHandler(this,A.ERROR,...e)}};var Hh=(n,e)=>e.some(t=>n instanceof t),Kc,Yc;function $h(){return Kc||(Kc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jh(){return Yc||(Yc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Jc=new WeakMap,vs=new WeakMap,Xc=new WeakMap,ms=new WeakMap,Is=new WeakMap;function Wh(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ce(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Jc.set(t,n)}).catch(()=>{}),Is.set(e,n),e}function Bh(n){if(vs.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});vs.set(n,e)}var _s={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vs.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Xc.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ce(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Zc(n){_s=n(_s)}function zh(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(hr(this),e,...t);return Xc.set(r,e.sort?e.sort():[e]),ce(r)}:jh().includes(n)?function(...e){return n.apply(hr(this),e),ce(Jc.get(this))}:function(...e){return ce(n.apply(hr(this),e))}}function qh(n){return typeof n=="function"?zh(n):(n instanceof IDBTransaction&&Bh(n),Hh(n,$h())?new Proxy(n,_s):n)}function ce(n){if(n instanceof IDBRequest)return Wh(n);if(ms.has(n))return ms.get(n);let e=qh(n);return e!==n&&(ms.set(n,e),Is.set(e,n)),e}var hr=n=>Is.get(n);function fr(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=ce(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ce(o.result),c.oldVersion,c.newVersion,ce(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Gh=["get","getKey","getAll","getAllKeys","count"],Kh=["put","add","delete","clear"],Es=new Map;function Qc(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Es.get(e))return Es.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Kh.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Gh.includes(t)))return;let s=function(o,...a){return l(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return Es.set(e,s),s}Zc(n=>P(p({},n),{get:(e,t,r)=>Qc(e,t)||n.get(e,t,r),has:(e,t)=>!!Qc(e,t)||n.has(e,t)}));var ws=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Yh(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Yh(n){let e=n.getComponent();return e?.type==="VERSION"}var Ts="@firebase/app",eu="0.13.2";var Te=new xe("@firebase/app"),Jh="@firebase/app-compat",Xh="@firebase/analytics-compat",Zh="@firebase/analytics",Qh="@firebase/app-check-compat",ef="@firebase/app-check",tf="@firebase/auth",nf="@firebase/auth-compat",rf="@firebase/database",sf="@firebase/data-connect",of="@firebase/database-compat",af="@firebase/functions",cf="@firebase/functions-compat",uf="@firebase/installations",lf="@firebase/installations-compat",df="@firebase/messaging",hf="@firebase/messaging-compat",ff="@firebase/performance",pf="@firebase/performance-compat",gf="@firebase/remote-config",mf="@firebase/remote-config-compat",vf="@firebase/storage",_f="@firebase/storage-compat",If="@firebase/firestore",Ef="@firebase/ai",yf="@firebase/firestore-compat",wf="firebase",Tf="11.10.0";var bs="[DEFAULT]",bf={[Ts]:"fire-core",[Jh]:"fire-core-compat",[Zh]:"fire-analytics",[Xh]:"fire-analytics-compat",[ef]:"fire-app-check",[Qh]:"fire-app-check-compat",[tf]:"fire-auth",[nf]:"fire-auth-compat",[rf]:"fire-rtdb",[sf]:"fire-data-connect",[of]:"fire-rtdb-compat",[af]:"fire-fn",[cf]:"fire-fn-compat",[uf]:"fire-iid",[lf]:"fire-iid-compat",[df]:"fire-fcm",[hf]:"fire-fcm-compat",[ff]:"fire-perf",[pf]:"fire-perf-compat",[gf]:"fire-rc",[mf]:"fire-rc-compat",[vf]:"fire-gcs",[_f]:"fire-gcs-compat",[If]:"fire-fst",[yf]:"fire-fst-compat",[Ef]:"fire-vertex","fire-js":"fire-js",[wf]:"fire-js-all"};var ln=new Map,Sf=new Map,Ss=new Map;function tu(n,e){try{n.container.addComponent(e)}catch(t){Te.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function be(n){let e=n.name;if(Ss.has(e))return Te.debug(`There were multiple attempts to register component ${e}.`),!1;Ss.set(e,n);for(let t of ln.values())tu(t,n);for(let t of Sf.values())tu(t,n);return!0}function pr(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function re(n){return n==null?!1:n.settings!==void 0}var Af={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fe=new ne("app","Firebase",Af);var As=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new z("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fe.create("app-deleted",{appName:this._name})}};var St=Tf;function ks(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:bs,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Fe.create("bad-app-name",{appName:String(i)});if(t||(t=fs()),!t)throw Fe.create("no-options");let s=ln.get(i);if(s){if(Ue(t,s.options)&&Ue(r,s.config))return s;throw Fe.create("duplicate-app",{appName:i})}let o=new dr(i);for(let c of Ss.values())o.addComponent(c);let a=new As(t,r,o);return ln.set(i,a),a}function hn(n=bs){let e=ln.get(n);if(!e&&n===bs&&fs())return ks();if(!e)throw Fe.create("no-app",{appName:n});return e}function gr(){return Array.from(ln.values())}function N(n,e,t){var r;let i=(r=bf[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Te.warn(a.join(" "));return}be(new z(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Rf="firebase-heartbeat-database",Cf=1,dn="firebase-heartbeat-store",ys=null;function su(){return ys||(ys=fr(Rf,Cf,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(dn)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fe.create("idb-open",{originalErrorMessage:n.message})})),ys}function kf(n){return l(this,null,function*(){try{let t=(yield su()).transaction(dn),r=yield t.objectStore(dn).get(ou(n));return yield t.done,r}catch(e){if(e instanceof te)Te.warn(e.message);else{let t=Fe.create("idb-get",{originalErrorMessage:e?.message});Te.warn(t.message)}}})}function nu(n,e){return l(this,null,function*(){try{let r=(yield su()).transaction(dn,"readwrite");yield r.objectStore(dn).put(e,ou(n)),yield r.done}catch(t){if(t instanceof te)Te.warn(t.message);else{let r=Fe.create("idb-set",{originalErrorMessage:t?.message});Te.warn(r.message)}}})}function ou(n){return`${n.name}!${n.options.appId}`}var Pf=1024,Of=30,Rs=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Cs(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ru();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Of){let o=Nf(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Te.warn(r)}})}getHeartbeatsHeader(){return l(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=ru(),{heartbeatsToSend:r,unsentEntries:i}=Df(this._heartbeatsCache.heartbeats),s=cn(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Te.warn(t),""}})}};function ru(){return new Date().toISOString().substring(0,10)}function Df(n,e=Pf){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),iu(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),iu(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Cs=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return lr()?zc().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield kf(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return nu(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return nu(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function iu(n){return cn(JSON.stringify({version:2,heartbeats:n})).length}function Nf(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Mf(n){be(new z("platform-logger",e=>new ws(e),"PRIVATE")),be(new z("heartbeat",e=>new Rs(e),"PRIVATE")),N(Ts,eu,n),N(Ts,eu,"esm2017"),N("fire-js","")}Mf("");var Lf="firebase",Uf="11.10.0";N(Lf,Uf,"app");function au(n){n===void 0&&(n=g(Q));let e=n.get(Qn);return t=>new ve(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=t.subscribe({next:c=>{r.next(c),o()},complete:()=>{r.complete(),o()},error:c=>{r.error(c),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var Rt=new Fi("ANGULARFIRE2_VERSION");function Ps(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var vr=(n,e)=>{let t=e?[e]:gr(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},At=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(At||{}),cu=Qi()&&typeof Zone<"u"?At.WARN:At.SILENT;var mr=class{zone;delegate;constructor(e,t=Ra){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},Ct=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=g(V);this.outsideAngular=t.runOutsideAngular(()=>new mr(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new mr(typeof Zone>"u"?void 0:Zone.current,Aa))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uu=!1;function xf(n,e){!uu&&(cu>At.SILENT||Qi())&&(uu=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),cu>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Ff(n){let e=g(V,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function rt(n){let e=g(V,{optional:!0});return e?e.run(()=>n()):n()}var Vf=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),U(t,()=>rt(()=>n.apply(void 0,r)))),Ve=(n,e,t)=>(t||=e?At.WARN:At.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=g(Ct),o=g(Qn),a=g(ye)}catch{return xf(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=rt(()=>o.add())),i[u]=Vf(i[u],r,a));let c=Ff(()=>n.apply(this,i));return e?c instanceof ve?c.pipe(Mi(s.outsideAngular),Ni(s.insideAngular),au(a)):c instanceof Promise?rt(()=>{let u=o.add();return new Promise((d,f)=>{c.then(h=>U(a,()=>rt(()=>d(h))),h=>U(a,()=>rt(()=>f(h)))).finally(u)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:rt(()=>c):c instanceof ve?c.pipe(Mi(s.outsideAngular),Ni(s.insideAngular)):rt(()=>c)});var it=class{constructor(e){return e}},fn=class{constructor(){return gr()}};function Hf(n){return n&&n.length===1?n[0]:new it(hn())}var Os=new k("angularfire2._apps"),$f={provide:it,useFactory:Hf,deps:[[new Me,Os]]},jf={provide:fn,deps:[[new Me,Os]]};function Wf(n){return(e,t)=>{let r=t.get(Ze);N("angularfire",Rt.full,"core"),N("angularfire",Rt.full,"app"),N("angular",Ma.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new it(i)}}function nw(n,...e){return Xe([$f,jf,{provide:Os,useFactory:Wf(n),multi:!0,deps:[V,Q,Ct,...e]}])}var rw=Ve(ks,!0);var Bf=new Map,zf={activated:!1,tokenObservers:[]},qf={initialized:!1,enabled:!1};function ie(n){return Bf.get(n)||Object.assign({},zf)}function fu(){return qf}var Gf="https://content-firebaseappcheck.googleapis.com/v1";var Kf="exchangeDebugToken",lu={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},hw=1440*60*1e3;var Ms=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return l(this,null,function*(){this.stop();try{this.pending=new tt,this.pending.promise.catch(t=>{}),yield Yf(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new tt,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Yf(n){return new Promise(e=>{setTimeout(e,n)})}var Jf={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},He=new ne("appCheck","AppCheck",Jf);function pu(n){if(!ie(n).activated)throw He.create("use-before-activation",{appName:n.name})}function gu(r,i){return l(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let m=yield o.getHeartbeatsHeader();m&&(s["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:s},c;try{c=yield fetch(n,a)}catch(m){throw He.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw He.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(m){throw He.create("fetch-parse-error",{originalErrorMessage:m?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw He.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let f=Number(d[1])*1e3,h=Date.now();return{token:u.token,expireTimeMillis:h+f,issuedAtTimeMillis:h}})}function mu(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Gf}/projects/${t}/apps/${r}:${Kf}?key=${i}`,body:{debug_token:e}}}var Xf="firebase-app-check-database",Zf=1,Ls="firebase-app-check-store";var _r=null;function Qf(){return _r||(_r=new Promise((n,e)=>{try{let t=indexedDB.open(Xf,Zf);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(He.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ls,{keyPath:"compositeKey"})}}}catch(t){e(He.create("storage-open",{originalErrorMessage:t?.message}))}}),_r)}function ep(n,e){return tp(np(n),e)}function tp(n,e){return l(this,null,function*(){let r=(yield Qf()).transaction(Ls,"readwrite"),s=r.objectStore(Ls).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var u;a(He.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function np(n){return`${n.options.appId}-${n.name}`}var pn=new xe("@firebase/app-check");function Ds(n,e){return lr()?ep(n,e).catch(t=>{pn.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function vu(){return fu().enabled}function _u(){return l(this,null,function*(){let n=fu();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var rp={error:"UNKNOWN_ERROR"};function ip(n){return cr.encodeString(JSON.stringify(n),!1)}function Us(n,e=!1,t=!1){return l(this,null,function*(){let r=n.app;pu(r);let i=ie(r),s=i.token,o;if(s&&!gn(s)&&(i.token=void 0,s=void 0),!s){let u=yield i.cachedTokenPromise;u&&(gn(u)?s=u:yield Ds(r,void 0))}if(!e&&s&&gn(s))return{token:s.token};let a=!1;if(vu())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=gu(mu(r,yield _u()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield Ds(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?pn.warn(u.message):t&&pn.error(u),Ns(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield ie(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?pn.warn(u.message):t&&pn.error(u),o=u}let c;return s?o?gn(s)?c={token:s.token,internalError:o}:c=Ns(o):(c={token:s.token},i.token=s,yield Ds(r,s)):c=Ns(o),a&&cp(r,c),c})}function sp(n){return l(this,null,function*(){let e=n.app;pu(e);let{provider:t}=ie(e);if(vu()){let r=yield _u(),{token:i}=yield gu(mu(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function op(n,e,t,r){let{app:i}=n,s=ie(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&gn(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),du(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>du(n))}function Iu(n,e){let t=ie(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function du(n){let{app:e}=n,t=ie(e),r=t.tokenRefresher;r||(r=ap(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ap(n){let{app:e}=n;return new Ms(()=>l(null,null,function*(){let t=ie(e),r;if(t.token?r=yield Us(n,!0):r=yield Us(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=ie(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},lu.RETRIAL_MIN_WAIT,lu.RETRIAL_MAX_WAIT)}function cp(n,e){let t=ie(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function gn(n){return n.expireTimeMillis-Date.now()>0}function Ns(n){return{token:ip(rp),error:n}}var xs=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=ie(this.app);for(let t of e)Iu(this.app,t.next);return Promise.resolve()}};function up(n,e){return new xs(n,e)}function lp(n){return{getToken:e=>Us(n,e),getLimitedUseToken:()=>sp(n),addTokenListener:e=>op(n,"INTERNAL",e),removeTokenListener:e=>Iu(n.app,e)}}var dp="@firebase/app-check",hp="0.10.1";var fp="app-check",hu="app-check-internal";function pp(){be(new z(fp,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return up(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(hu).initialize()})),be(new z(hu,n=>{let e=n.getProvider("app-check").getImmediate();return lp(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),N(dp,hp)}pp();var gp="app-check";var Ir=class{constructor(){return vr(gp)}};var mp=["localhost","0.0.0.0","127.0.0.1"],Sw=typeof window<"u"&&mp.includes(window.location.hostname);var Eu=()=>{};var yu=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},vp=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},wu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,m=u&63;c||(m=64,o||(h=64)),r.push(t[d],t[f],t[h],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yu(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):vp(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new Vs;let h=s<<2|a>>4;if(r.push(h),u!==64){let m=a<<4&240|u>>2;if(r.push(m),f!==64){let y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Vs=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},_p=function(n){let e=yu(n);return wu.encodeByteArray(e,!0)},$s=function(n){return _p(n).replace(/\./g,"")},Er=function(n){try{return wu.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ip(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Ep=()=>Ip().__FIREBASE_DEFAULTS__,yp=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wp=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Er(n[1]);return e&&JSON.parse(e)},Tp=()=>{try{return Eu()||Ep()||yp()||wp()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}};var Tu=n=>Tp()?.[`_${n}`];function js(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function se(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(se())}function Su(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Au(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Ru(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Cu(){try{return typeof indexedDB=="object"}catch{return!1}}function ku(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var bp="FirebaseError",ue=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=bp,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Se.prototype.create)}},Se=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Sp(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ue(i,a,r)}};function Sp(n,e){return n.replace(Ap,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Ap=/\{\$([^}]+)}/g;function Ws(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pu(n,e){let t=new Hs(n,e);return t.subscribe.bind(t)}var Hs=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Rp(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Fs),i.error===void 0&&(i.error=Fs),i.complete===void 0&&(i.complete=Fs);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Rp(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Fs(){}var Pw=14400*1e3;function kt(n){return n&&n._delegate?n._delegate:n}var Ae=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Cp=[],R=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(R||{}),kp={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},Pp=R.INFO,Op={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},Dp=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Op[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Pt=class{constructor(e){this.name=e,this._logLevel=Pp,this._logHandler=Dp,this._userLogHandler=null,Cp.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in R))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kp[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...e),this._logHandler(this,R.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...e),this._logHandler(this,R.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,R.INFO,...e),this._logHandler(this,R.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,R.WARN,...e),this._logHandler(this,R.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...e),this._logHandler(this,R.ERROR,...e)}};var zs=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Mp(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Mp(n){return n.getComponent()?.type==="VERSION"}var qs="@firebase/app",Ou="0.14.5";var Re=new Pt("@firebase/app"),Lp="@firebase/app-compat",Up="@firebase/analytics-compat",xp="@firebase/analytics",Fp="@firebase/app-check-compat",Vp="@firebase/app-check",Hp="@firebase/auth",$p="@firebase/auth-compat",jp="@firebase/database",Wp="@firebase/data-connect",Bp="@firebase/database-compat",zp="@firebase/functions",qp="@firebase/functions-compat",Gp="@firebase/installations",Kp="@firebase/installations-compat",Yp="@firebase/messaging",Jp="@firebase/messaging-compat",Xp="@firebase/performance",Zp="@firebase/performance-compat",Qp="@firebase/remote-config",eg="@firebase/remote-config-compat",tg="@firebase/storage",ng="@firebase/storage-compat",rg="@firebase/firestore",ig="@firebase/ai",sg="@firebase/firestore-compat",og="firebase",ag="12.5.0";var cg={[qs]:"fire-core",[Lp]:"fire-core-compat",[xp]:"fire-analytics",[Up]:"fire-analytics-compat",[Vp]:"fire-app-check",[Fp]:"fire-app-check-compat",[Hp]:"fire-auth",[$p]:"fire-auth-compat",[jp]:"fire-rtdb",[Wp]:"fire-data-connect",[Bp]:"fire-rtdb-compat",[zp]:"fire-fn",[qp]:"fire-fn-compat",[Gp]:"fire-iid",[Kp]:"fire-iid-compat",[Yp]:"fire-fcm",[Jp]:"fire-fcm-compat",[Xp]:"fire-perf",[Zp]:"fire-perf-compat",[Qp]:"fire-rc",[eg]:"fire-rc-compat",[tg]:"fire-gcs",[ng]:"fire-gcs-compat",[rg]:"fire-fst",[sg]:"fire-fst-compat",[ig]:"fire-vertex","fire-js":"fire-js",[og]:"fire-js-all"};var ug=new Map,lg=new Map,Du=new Map;function Nu(n,e){try{n.container.addComponent(e)}catch(t){Re.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Dt(n){let e=n.name;if(Du.has(e))return Re.debug(`There were multiple attempts to register component ${e}.`),!1;Du.set(e,n);for(let t of ug.values())Nu(t,n);for(let t of lg.values())Nu(t,n);return!0}function st(n){return n==null?!1:n.settings!==void 0}var dg={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new Se("app","Firebase",dg);var yr=ag;function Ot(n,e,t){let r=cg[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){let o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Re.warn(o.join(" "));return}Dt(new Ae(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var hg="firebase-heartbeat-database",fg=1,mn="firebase-heartbeat-store",Bs=null;function xu(){return Bs||(Bs=fr(hg,fg,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(mn)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ys.create("idb-open",{originalErrorMessage:n.message})})),Bs}function pg(n){return l(this,null,function*(){try{let t=(yield xu()).transaction(mn),r=yield t.objectStore(mn).get(Fu(n));return yield t.done,r}catch(e){if(e instanceof ue)Re.warn(e.message);else{let t=Ys.create("idb-get",{originalErrorMessage:e?.message});Re.warn(t.message)}}})}function Mu(n,e){return l(this,null,function*(){try{let r=(yield xu()).transaction(mn,"readwrite");yield r.objectStore(mn).put(e,Fu(n)),yield r.done}catch(t){if(t instanceof ue)Re.warn(t.message);else{let r=Ys.create("idb-set",{originalErrorMessage:t?.message});Re.warn(r.message)}}})}function Fu(n){return`${n.name}!${n.options.appId}`}var gg=1024,mg=30,Gs=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Ks(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Lu();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>mg){let i=_g(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Re.warn(e)}})}getHeartbeatsHeader(){return l(this,null,function*(){try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=Lu(),{heartbeatsToSend:t,unsentEntries:r}=vg(this._heartbeatsCache.heartbeats),i=$s(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Re.warn(e),""}})}};function Lu(){return new Date().toISOString().substring(0,10)}function vg(n,e=gg){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Uu(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Uu(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Ks=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return Cu()?ku().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield pg(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Mu(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Mu(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function Uu(n){return $s(JSON.stringify({version:2,heartbeats:n})).length}function _g(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Ig(n){Dt(new Ae("platform-logger",e=>new zs(e),"PRIVATE")),Dt(new Ae("heartbeat",e=>new Gs(e),"PRIVATE")),Ot(qs,Ou,n),Ot(qs,Ou,"esm2020"),Ot("fire-js","")}Ig("");function qu(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Gu=qu,Ku=new Se("auth","Firebase",qu());var Sr=new Pt("@firebase/auth");function Eg(n,...e){Sr.logLevel<=R.WARN&&Sr.warn(`Auth (${yr}): ${n}`,...e)}function Tr(n,...e){Sr.logLevel<=R.ERROR&&Sr.error(`Auth (${yr}): ${n}`,...e)}function Vu(n,...e){throw ao(n,...e)}function oo(n,...e){return ao(n,...e)}function Yu(n,e,t){let r=P(p({},Gu()),{[e]:t});return new Se("auth","Firebase",r).create(e,{appName:n.name})}function br(n){return Yu(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ao(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Ku.create(n,...e)}function T(n,e,...t){if(!n)throw ao(e,...t)}function vn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Tr(e),new Error(e)}function Ar(n,e){n||vn(e)}function yg(){return Hu()==="http:"||Hu()==="https:"}function Hu(){return typeof self<"u"&&self.location?.protocol||null}function wg(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yg()||Au()||"connection"in navigator)?navigator.onLine:!0}function Tg(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ct=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ar(t>e,"Short delay should be less than long delay!"),this.isMobile=bu()||Ru()}get(){return wg()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function bg(n,e){Ar(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Rr=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Sg={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Ag=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Rg=new ct(3e4,6e4);function Ju(n,e){return n.tenantId&&!e.tenantId?P(p({},e),{tenantId:n.tenantId}):e}function Dr(s,o,a,c){return l(this,arguments,function*(n,e,t,r,i={}){return Xu(n,i,()=>l(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let f=Ws(p({key:n.config.apiKey},d)).slice(1),h=yield n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);let m=p({method:e,headers:h},u);return Su()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&js(n.emulatorConfig.host)&&(m.credentials="include"),Rr.fetch()(yield Zu(n,n.config.apiHost,t,f),m)}))})}function Xu(n,e,t){return l(this,null,function*(){n._canInitEmulator=!1;let r=p(p({},Sg),e);try{let i=new Zs(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw wr(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw wr(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw wr(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw wr(n,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Yu(n,d,u);Vu(n,d)}}catch(i){if(i instanceof ue)throw i;Vu(n,"network-request-failed",{message:String(i)})}})}function Zu(n,e,t,r){return l(this,null,function*(){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?bg(n.config,i):`${n.config.apiScheme}://${i}`;return Ag.includes(t)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}var Zs=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(oo(this.auth,"network-request-failed")),Rg.get())})}};function wr(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=oo(n,e,r);return i.customData._tokenResponse=t,i}function Cg(n,e){return l(this,null,function*(){return Dr(n,"POST","/v1/accounts:delete",e)})}function Cr(n,e){return l(this,null,function*(){return Dr(n,"POST","/v1/accounts:lookup",e)})}function _n(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Qu(n,e=!1){return l(this,null,function*(){let t=kt(n),r=yield t.getIdToken(e),i=el(r);T(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:_n(Js(i.auth_time)),issuedAtTime:_n(Js(i.iat)),expirationTime:_n(Js(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Js(n){return Number(n)*1e3}function el(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Tr("JWT malformed, contained fewer than 3 sections"),null;try{let i=Er(t);return i?JSON.parse(i):(Tr("Failed to decode base64 JWT payload"),null)}catch(i){return Tr("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $u(n){let e=el(n);return T(e,"internal-error"),T(typeof e.exp<"u","internal-error"),T(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Qs(n,e,t=!1){return l(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof ue&&kg(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function kg({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var eo=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),t)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var En=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_n(this.lastLoginAt),this.creationTime=_n(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function kr(n){return l(this,null,function*(){let e=n.auth,t=yield n.getIdToken(),r=yield Qs(n,Cr(e,{idToken:t}));T(r?.users.length,e,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let s=i.providerUserInfo?.length?nl(i.providerUserInfo):[],o=Pg(n.providerData,s),a=n.isAnonymous,c=!(n.email&&i.passwordHash)&&!o?.length,u=a?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new En(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(n,d)})}function tl(n){return l(this,null,function*(){let e=kt(n);yield kr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Pg(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nl(n){return n.map(r=>{var i=r,{providerId:e}=i,t=Pi(i,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}function Og(n,e){return l(this,null,function*(){let t=yield Xu(n,{},()=>l(null,null,function*(){let r=Ws({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=yield Zu(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&js(n.emulatorConfig.host)&&(c.credentials="include"),Rr.fetch()(o,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Dg(n,e){return l(this,null,function*(){return Dr(n,"POST","/v2/accounts:revokeToken",Ju(n,e))})}var In=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){T(e.idToken,"internal-error"),T(typeof e.idToken<"u","internal-error"),T(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$u(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){T(e.length!==0,"internal-error");let t=$u(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return l(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(T(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Og(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(T(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(T(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(T(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return vn("not implemented")}};function $e(n,e){T(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ot=class n{constructor(s){var o=s,{uid:e,auth:t,stsTokenManager:r}=o,i=Pi(o,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new En(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let t=yield Qs(this,this.stsTokenManager.getToken(this.auth,e));return T(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Qu(this,e)}reload(){return tl(this)}_assign(e){this!==e&&(T(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>p({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(P(p({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){T(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return l(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield kr(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){if(st(this.auth.app))return Promise.reject(br(this.auth));let e=yield this.getIdToken();return yield Qs(this,Cg(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return P(p({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>p({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let r=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,o=t.photoURL??void 0,a=t.tenantId??void 0,c=t._redirectEventId??void 0,u=t.createdAt??void 0,d=t.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:y,stsTokenManager:F}=t;T(f&&F,e,"internal-error");let M=In.fromJSON(this.name,F);T(typeof f=="string",e,"internal-error"),$e(r,e.name),$e(i,e.name),T(typeof h=="boolean",e,"internal-error"),T(typeof m=="boolean",e,"internal-error"),$e(s,e.name),$e(o,e.name),$e(a,e.name),$e(c,e.name),$e(u,e.name),$e(d,e.name);let B=new n({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:M,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(B.providerData=y.map(Z=>p({},Z))),c&&(B._redirectEventId=c),B}static _fromIdTokenResponse(e,t,r=!1){return l(this,null,function*(){let i=new In;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield kr(s),s})}static _fromGetAccountInfoResponse(e,t,r){return l(this,null,function*(){let i=t.users[0];T(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?nl(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new In;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new En(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var ju=new Map;function at(n){Ar(n instanceof Function,"Expected a class definition");let e=ju.get(n);return e?(Ar(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ju.set(n,e),e)}var Ng=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(t,r){return l(this,null,function*(){this.storage[t]=r})}_get(t){return l(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return l(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),to=Ng;function Xs(n,e,t){return`firebase:${n}:${e}:${t}`}var Pr=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Xs(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xs("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Cr(this.auth,{idToken:e}).catch(()=>{});return t?ot._fromGetAccountInfoResponse(this.auth,t,e):null}return ot._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return l(this,null,function*(){if(!t.length)return new n(at(to),e,r);let i=(yield Promise.all(t.map(u=>l(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||at(to),o=Xs(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(o);if(d){let f;if(typeof d=="string"){let h=yield Cr(e,{idToken:d}).catch(()=>{});if(!h)break;f=yield ot._fromGetAccountInfoResponse(e,h,d)}else f=ot._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(u=>l(null,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,e,r))})}};function Wu(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xg(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mg(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vg(e))return"Blackberry";if(Hg(e))return"Webos";if(Lg(e))return"Safari";if((e.includes("chrome/")||Ug(e))&&!e.includes("edge/"))return"Chrome";if(Fg(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Mg(n=se()){return/firefox\//i.test(n)}function Lg(n=se()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ug(n=se()){return/crios\//i.test(n)}function xg(n=se()){return/iemobile/i.test(n)}function Fg(n=se()){return/android/i.test(n)}function Vg(n=se()){return/blackberry/i.test(n)}function Hg(n=se()){return/webos/i.test(n)}function rl(n,e=[]){let t;switch(n){case"Browser":t=Wu(se());break;case"Worker":t=`${Wu(se())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yr}/${r}`}var no=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function $g(t){return l(this,arguments,function*(n,e={}){return Dr(n,"GET","/v2/passwordPolicy",Ju(n,e))})}var jg=6,ro=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??jg,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var io=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Or(this),this.idTokenSubscription=new Or(this),this.beforeStateQueue=new no(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ku,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=at(t)),this._initializationPromise=this.queue(()=>l(this,null,function*(){if(!this._deleted&&(this.persistenceManager=yield Pr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return l(this,null,function*(){try{let t=yield Cr(this,{idToken:e}),r=yield ot._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return l(this,null,function*(){if(st(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}let t=yield this.assertedPersistence.getCurrentUser(),r=t,i=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=yield this.tryRedirectSignIn(e);(!s||s===o)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return T(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return l(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield kr(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Tg()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){if(st(this.app))return Promise.reject(br(this));let t=e?kt(e):null;return t&&T(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return l(this,null,function*(){if(!this._deleted)return e&&T(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return st(this.app)?Promise.reject(br(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return st(this.app)?Promise.reject(br(this)):this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(at(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield $g(this),t=new ro(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Se("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Dg(this,r)}})}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}_setRedirectUser(e,t){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&at(e)||this._popupRedirectResolver;T(t,this,"argument-error"),this.redirectPersistenceManager=yield Pr.create(this,[at(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(T(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return T(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=yield this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return l(this,null,function*(){if(st(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=yield this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Eg(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function Wg(n){return kt(n)}var Or=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Pu(t=>this.observer=t)}get next(){return T(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Bg={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zg(n){Bg=n}function qg(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Gg(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(at);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function co(n,e,t,r){return kt(n).onIdTokenChanged(e,t,r)}var lT=qg("rcb"),dT=new ct(3e4,6e4);var hT=new ct(2e3,1e4);var fT=600*1e3;var pT=new ct(3e4,6e4);var gT=new ct(5e3,15e3);var mT=encodeURIComponent("fac");var Bu="@firebase/auth",zu="1.11.1";var so=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){T(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Kg(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yg(n){Dt(new Ae("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;T(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rl(n)},u=new io(r,i,s,c);return Gg(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Dt(new Ae("auth-internal",e=>{let t=Wg(e.getProvider("auth").getImmediate());return(r=>new so(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ot(Bu,zu,Kg(n)),Ot(Bu,zu,"esm2020")}var Jg=300,vT=Tu("authIdTokenMaxAge")||Jg;function Xg(){return document.getElementsByTagName("head")?.[0]??document}zg({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=oo("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",Xg().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yg("Browser");function il(n){return new ve(function(e){var t=co(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}function Il(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var El=Il,yl=new ne("auth","Firebase",Il());var Fr=new xe("@firebase/auth");function em(n,...e){Fr.logLevel<=A.WARN&&Fr.warn(`Auth (${St}): ${n}`,...e)}function Mr(n,...e){Fr.logLevel<=A.ERROR&&Fr.error(`Auth (${St}): ${n}`,...e)}function de(n,...e){throw Ro(n,...e)}function oe(n,...e){return Ro(n,...e)}function Ao(n,e,t){let r=Object.assign(Object.assign({},El()),{[e]:t});return new ne("auth","Firebase",r).create(e,{appName:n.name})}function ut(n){return Ao(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tm(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&de(n,"argument-error"),Ao(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ro(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return yl.create(n,...e)}function _(n,e,...t){if(!n)throw Ro(e,...t)}function Ce(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Mr(e),new Error(e)}function Pe(n,e){n||Ce(e)}function ho(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function nm(){return sl()==="http:"||sl()==="https:"}function sl(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function rm(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nm()||jc()||"connection"in navigator)?navigator.onLine:!0}function im(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var lt=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pe(t>e,"Short delay should be less than long delay!"),this.isMobile=Hc()||Wc()}get(){return rm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Co(n,e){Pe(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Vr=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var sm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var om=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],am=new lt(3e4,6e4);function ko(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Mt(s,o,a,c){return l(this,arguments,function*(n,e,t,r,i={}){return wl(n,i,()=>l(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let f=bt(Object.assign({key:n.config.apiKey},d)).slice(1),h=yield n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:h},u);return $c()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&un(n.emulatorConfig.host)&&(m.credentials="include"),Vr.fetch()(yield Tl(n,n.config.apiHost,t,f),m)}))})}function wl(n,e,t){return l(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},sm),e);try{let i=new fo(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Nr(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nr(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Nr(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw Nr(n,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ao(n,d,u);de(n,d)}}catch(i){if(i instanceof te)throw i;de(n,"network-request-failed",{message:String(i)})}})}function cm(s,o,a,c){return l(this,arguments,function*(n,e,t,r,i={}){let u=yield Mt(n,e,t,r,i);return"mfaPendingCredential"in u&&de(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function Tl(n,e,t,r){return l(this,null,function*(){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?Co(n.config,i):`${n.config.apiScheme}://${i}`;return om.includes(t)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}var fo=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(oe(this.auth,"network-request-failed")),am.get())})}};function Nr(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=oe(n,e,r);return i.customData._tokenResponse=t,i}function um(n,e){return l(this,null,function*(){return Mt(n,"POST","/v1/accounts:delete",e)})}function Hr(n,e){return l(this,null,function*(){return Mt(n,"POST","/v1/accounts:lookup",e)})}function yn(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Po(n,e=!1){return l(this,null,function*(){let t=we(n),r=yield t.getIdToken(e),i=Oo(r);_(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:yn(uo(i.auth_time)),issuedAtTime:yn(uo(i.iat)),expirationTime:yn(uo(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function uo(n){return Number(n)*1e3}function Oo(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Mr("JWT malformed, contained fewer than 3 sections"),null;try{let i=ur(t);return i?JSON.parse(i):(Mr("Failed to decode base64 JWT payload"),null)}catch(i){return Mr("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ol(n){let e=Oo(n);return _(e,"internal-error"),_(typeof e.exp<"u","internal-error"),_(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Tn(n,e,t=!1){return l(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof te&&lm(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function lm({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var po=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),t)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var bn=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yn(this.lastLoginAt),this.creationTime=yn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function $r(n){return l(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Tn(n,Hr(t,{idToken:r}));_(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?bl(s.providerUserInfo):[],a=dm(n.providerData,o),c=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!a?.length,d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new bn(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function Do(n){return l(this,null,function*(){let e=we(n);yield $r(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function dm(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function bl(n){return n.map(e=>{var{providerId:t}=e,r=Gn(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function hm(n,e){return l(this,null,function*(){let t=yield wl(n,{},()=>l(null,null,function*(){let r=bt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=yield Tl(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&un(n.emulatorConfig.host)&&(c.credentials="include"),Vr.fetch()(o,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function fm(n,e){return l(this,null,function*(){return Mt(n,"POST","/v2/accounts:revokeToken",ko(n,e))})}var wn=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_(e.idToken,"internal-error"),_(typeof e.idToken<"u","internal-error"),_(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ol(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_(e.length!==0,"internal-error");let t=ol(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return l(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield hm(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(_(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(_(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(_(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ce("not implemented")}};function je(n,e){_(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var We=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Gn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new po(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new bn(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let t=yield Tn(this,this.stsTokenManager.getToken(this.auth,e));return _(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Po(this,e)}reload(){return Do(this)}_assign(e){this!==e&&(_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return l(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield $r(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){if(re(this.auth.app))return Promise.reject(ut(this.auth));let e=yield this.getIdToken();return yield Tn(this,um(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,u,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,h=(i=t.email)!==null&&i!==void 0?i:void 0,m=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=t.photoURL)!==null&&o!==void 0?o:void 0,F=(a=t.tenantId)!==null&&a!==void 0?a:void 0,M=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,B=(u=t.createdAt)!==null&&u!==void 0?u:void 0,Z=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:J,emailVerified:qn,isAnonymous:wa,providerData:Ci,stsTokenManager:Ta}=t;_(J&&Ta,e,"internal-error");let Jd=wn.fromJSON(this.name,Ta);_(typeof J=="string",e,"internal-error"),je(f,e.name),je(h,e.name),_(typeof qn=="boolean",e,"internal-error"),_(typeof wa=="boolean",e,"internal-error"),je(m,e.name),je(y,e.name),je(F,e.name),je(M,e.name),je(B,e.name),je(Z,e.name);let ki=new n({uid:J,auth:e,email:h,emailVerified:qn,displayName:f,isAnonymous:wa,photoURL:y,phoneNumber:m,tenantId:F,stsTokenManager:Jd,createdAt:B,lastLoginAt:Z});return Ci&&Array.isArray(Ci)&&(ki.providerData=Ci.map(Xd=>Object.assign({},Xd))),M&&(ki._redirectEventId=M),ki}static _fromIdTokenResponse(e,t,r=!1){return l(this,null,function*(){let i=new wn;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield $r(s),s})}static _fromGetAccountInfoResponse(e,t,r){return l(this,null,function*(){let i=t.users[0];_(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?bl(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new wn;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new bn(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var al=new Map;function ke(n){Pe(n instanceof Function,"Expected a class definition");let e=al.get(n);return e?(Pe(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,al.set(n,e),e)}var pm=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(t,r){return l(this,null,function*(){this.storage[t]=r})}_get(t){return l(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return l(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),go=pm;function Lr(n,e,t){return`firebase:${n}:${e}:${t}`}var jr=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Lr(this.userKey,i.apiKey,s),this.fullPersistenceKey=Lr("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Hr(this.auth,{idToken:e}).catch(()=>{});return t?We._fromGetAccountInfoResponse(this.auth,t,e):null}return We._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return l(this,null,function*(){if(!t.length)return new n(ke(go),e,r);let i=(yield Promise.all(t.map(u=>l(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||ke(go),o=Lr(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(o);if(d){let f;if(typeof d=="string"){let h=yield Hr(e,{idToken:d}).catch(()=>{});if(!h)break;f=yield We._fromGetAccountInfoResponse(e,h,d)}else f=We._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(u=>l(null,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,e,r))})}};function cl(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Cl(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sl(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pl(e))return"Blackberry";if(Ol(e))return"Webos";if(Al(e))return"Safari";if((e.includes("chrome/")||Rl(e))&&!e.includes("edge/"))return"Chrome";if(kl(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Sl(n=x()){return/firefox\//i.test(n)}function Al(n=x()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rl(n=x()){return/crios\//i.test(n)}function Cl(n=x()){return/iemobile/i.test(n)}function kl(n=x()){return/android/i.test(n)}function Pl(n=x()){return/blackberry/i.test(n)}function Ol(n=x()){return/webos/i.test(n)}function No(n=x()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gm(n=x()){var e;return No(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mm(){return Bc()&&document.documentMode===10}function Dl(n=x()){return No(n)||kl(n)||Ol(n)||Pl(n)||/windows phone/i.test(n)||Cl(n)}function Nl(n,e=[]){let t;switch(n){case"Browser":t=cl(x());break;case"Worker":t=`${cl(x())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${St}/${r}`}var mo=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function vm(t){return l(this,arguments,function*(n,e={}){return Mt(n,"GET","/v2/passwordPolicy",ko(n,e))})}var _m=6,vo=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:_m,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var _o=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wr(this),this.idTokenSubscription=new Wr(this),this.beforeStateQueue=new mo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ke(t)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var r,i,s;if(!this._deleted&&(this.persistenceManager=yield jr.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return l(this,null,function*(){try{let t=yield Hr(this,{idToken:e}),r=yield We._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return l(this,null,function*(){var t;if(re(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return l(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield $r(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=im()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){if(re(this.app))return Promise.reject(ut(this));let t=e?we(e):null;return t&&_(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return l(this,null,function*(){if(!this._deleted)return e&&_(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return re(this.app)?Promise.reject(ut(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return re(this.app)?Promise.reject(ut(this)):this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(ke(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield vm(this),t=new vo(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ne("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield fm(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ke(e)||this._popupRedirectResolver;_(t,this,"argument-error"),this.redirectPersistenceManager=yield jr.create(this,[ke(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return l(this,null,function*(){var e;if(re(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&em(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Xr(n){return we(n)}var Wr=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gc(t=>this.observer=t)}get next(){return _(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Mo={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Im(n){Mo=n}function Em(n){return Mo.loadJS(n)}function ym(){return Mo.gapiScript}function Ml(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Lo(n,e){let t=pr(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Ue(s,e??{}))return i;de(i,"already-initialized")}return t.initialize({options:e})}function wm(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ke);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Uo(n,e,t){let r=Xr(n);_(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=Ll(e),{host:o,port:a}=Tm(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){_(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_(Ue(u,r.config.emulator)&&Ue(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,un(o)?(Fc(`${s}//${o}${c}`),Vc("Auth",!0)):i||bm()}function Ll(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Tm(n){let e=Ll(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:ul(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:ul(o)}}}function ul(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function bm(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Sn=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ce("not implemented")}_getIdTokenResponse(e){return Ce("not implemented")}_linkToIdToken(e,t){return Ce("not implemented")}_getReauthenticationResolver(e){return Ce("not implemented")}};function Nt(n,e){return l(this,null,function*(){return cm(n,"POST","/v1/accounts:signInWithIdp",ko(n,e))})}var Sm="http://localhost",Br=class n extends Sn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):de("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Gn(t,["providerId","signInMethod"]);if(!r||!i)return null;let o=new n(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let t=this.buildRequest();return Nt(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,Nt(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Nt(e,t)}buildRequest(){let e={requestUri:Sm,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bt(t)}return e}};var An=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var zr=class extends An{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var xo=(()=>{class n extends zr{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Br._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var Rn=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return l(this,null,function*(){let s=yield We._fromIdTokenResponse(e,r,i),o=ll(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return l(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=ll(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function ll(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Io=class n extends te{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Ul(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Io._fromErrorAndOperation(n,s,e,r):s})}function Am(n,e,t=!1){return l(this,null,function*(){let r=yield Tn(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Rn._forOperation(n,"link",r)})}function Rm(n,e,t=!1){return l(this,null,function*(){let{auth:r}=n;if(re(r.app))return Promise.reject(ut(r));let i="reauthenticate";try{let s=yield Tn(n,Ul(r,i,e,n),t);_(s.idToken,r,"internal-error");let o=Oo(s.idToken);_(o,r,"internal-error");let{sub:a}=o;return _(n.uid===a,r,"user-mismatch"),Rn._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&de(r,"user-mismatch"),s}})}function Cm(n,e,t=!1){return l(this,null,function*(){if(re(n.app))return Promise.reject(ut(n));let r="signIn",i=yield Ul(n,r,e),s=yield Rn._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function Fo(n,e,t,r){return we(n).onIdTokenChanged(e,t,r)}function Vo(n,e,t){return we(n).beforeAuthStateChanged(e,t)}function Ho(n){return we(n).signOut()}var qr="__sak";var Gr=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qr,"1"),this.storage.removeItem(qr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var km=1e3,Pm=10,Om=(()=>{class n extends Gr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Dl(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);mm()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Pm):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},km)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return l(this,null,function*(){yield De(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return l(this,null,function*(){let r=yield De(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return l(this,null,function*(){yield De(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),xl=Om;var Dm=(()=>{class n extends Gr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),$o=Dm;function Nm(n){return Promise.all(n.map(e=>l(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Mm=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return l(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(d=>l(this,null,function*(){return d(r.origin,o)})),u=yield Nm(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function jo(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Eo=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return l(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=jo("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){let h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function le(){return window}function Lm(n){le().location.href=n}function Fl(){return typeof le().WorkerGlobalScope<"u"&&typeof le().importScripts=="function"}function Um(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function xm(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Fm(){return Fl()?self:null}var Vl="firebaseLocalStorageDb",Vm=1,Kr="firebaseLocalStorage",Hl="fbase_key",dt=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Zr(n,e){return n.transaction([Kr],e?"readwrite":"readonly").objectStore(Kr)}function Hm(){let n=indexedDB.deleteDatabase(Vl);return new dt(n).toPromise()}function yo(){let n=indexedDB.open(Vl,Vm);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Kr,{keyPath:Hl})}catch(i){t(i)}}),n.addEventListener("success",()=>l(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Kr)?e(r):(r.close(),yield Hm(),e(yield yo()))}))})}function dl(n,e,t){return l(this,null,function*(){let r=Zr(n,!0).put({[Hl]:e,value:t});return new dt(r).toPromise()})}function $m(n,e){return l(this,null,function*(){let t=Zr(n,!1).get(e),r=yield new dt(t).toPromise();return r===void 0?null:r.value})}function hl(n,e){let t=Zr(n,!0).delete(e);return new dt(t).toPromise()}var jm=800,Wm=3,Bm=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield yo(),this.db)})}_withRetries(t){return l(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>Wm)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return Fl()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=Mm._getInstance(Fm()),this.receiver._subscribe("keyChanged",(t,r)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var t,r;if(this.activeServiceWorker=yield Um(),!this.activeServiceWorker)return;this.sender=new Eo(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||xm()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let t=yield yo();return yield dl(t,qr,"1"),yield hl(t,qr),!0}catch{}return!1})}_withPendingWrite(t){return l(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>dl(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return l(this,null,function*(){let r=yield this._withRetries(i=>$m(i,t));return this.localCache[t]=r,r})}_remove(t){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>hl(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return l(this,null,function*(){let t=yield this._withRetries(s=>{let o=Zr(s,!1).getAll();return new dt(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),jm)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),$l=Bm;var cS=Ml("rcb"),uS=new lt(3e4,6e4);function jl(n,e){return e?ke(e):(_(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Cn=class extends Sn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nt(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nt(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nt(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function zm(n){return Cm(n.auth,new Cn(n),n.bypassAuthState)}function qm(n){let{auth:e,user:t}=n;return _(t,e,"internal-error"),Rm(t,new Cn(n),n.bypassAuthState)}function Gm(n){return l(this,null,function*(){let{auth:e,user:t}=n;return _(t,e,"internal-error"),Am(t,new Cn(n),n.bypassAuthState)})}var Yr=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>l(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return l(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zm;case"linkViaPopup":case"linkViaRedirect":return Gm;case"reauthViaPopup":case"reauthViaRedirect":return qm;default:de(this.auth,"internal-error")}}resolve(e){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Km=new lt(2e3,1e4);function Wo(n,e,t){return l(this,null,function*(){if(re(n.app))return Promise.reject(oe(n,"operation-not-supported-in-this-environment"));let r=Xr(n);tm(n,e,An);let i=jl(r,t);return new Ym(r,"signInViaPopup",e,i).executeNotNull()})}var Ym=(()=>{class n extends Yr{constructor(t,r,i,s,o){super(t,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return l(this,null,function*(){let t=yield this.execute();return _(t,this.auth,"internal-error"),t})}onExecution(){return l(this,null,function*(){Pe(this.filter.length===1,"Popup operations only handle one event");let t=jo();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(oe(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oe(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Km.get())};t()}}n.currentPopupAction=null;return n})(),Jm="pendingRedirect",Ur=new Map,wo=class n extends Yr{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return l(this,null,function*(){let e=Ur.get(this.auth._key());if(!e){try{let r=(yield Xm(this.resolver,this.auth))?yield De(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ur.set(this.auth._key(),e)}return this.bypassAuthState||Ur.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return l(this,null,function*(){if(e.type==="signInViaRedirect")return De(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,De(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function Xm(n,e){return l(this,null,function*(){let t=ev(e),r=Qm(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function Zm(n,e){Ur.set(n._key(),e)}function Qm(n){return ke(n._redirectPersistence)}function ev(n){return Lr(Jm,n.config.apiKey,n.name)}function tv(n,e,t=!1){return l(this,null,function*(){if(re(n.app))return Promise.reject(ut(n));let r=Xr(n),i=jl(r,e),o=yield new wo(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var nv=600*1e3,To=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rv(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Wl(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(oe(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nv&&this.cachedEventUids.clear(),this.cachedEventUids.has(fl(e))}saveEventToCache(e){this.cachedEventUids.add(fl(e)),this.lastProcessedEventTime=Date.now()}};function fl(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Wl({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function rv(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wl(n);default:return!1}}function iv(t){return l(this,arguments,function*(n,e={}){return Mt(n,"GET","/v1/projects",e)})}var sv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ov=/^https?/;function av(n){return l(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield iv(n);for(let t of e)try{if(cv(t))return}catch{}de(n,"unauthorized-domain")})}function cv(n){let e=ho(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!ov.test(t))return!1;if(sv.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var uv=new lt(3e4,6e4);function pl(){let n=le().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function lv(n){return new Promise((e,t)=>{var r,i,s;function o(){pl(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pl(),t(oe(n,"network-request-failed"))},timeout:uv.get()})}if(!((i=(r=le().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=le().gapi)===null||s===void 0)&&s.load)o();else{let a=Ml("iframefcb");return le()[a]=()=>{gapi.load?o():t(oe(n,"network-request-failed"))},Em(`${ym()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw xr=null,e})}var xr=null;function dv(n){return xr=xr||lv(n),xr}var hv=new lt(5e3,15e3),fv="__/auth/iframe",pv="emulator/auth/iframe",gv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vv(n){let e=n.config;_(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Co(e,pv):`https://${n.config.authDomain}/${fv}`,r={apiKey:e.apiKey,appName:n.name,v:St},i=mv.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${bt(r).slice(1)}`}function _v(n){return l(this,null,function*(){let e=yield dv(n),t=le().gapi;return _(t,n,"internal-error"),e.open({where:document.body,url:vv(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gv,dontclear:!0},r=>new Promise((i,s)=>l(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=oe(n,"network-request-failed"),a=le().setTimeout(()=>{s(o)},hv.get());function c(){le().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var Iv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ev=500,yv=600,wv="_blank",Tv="http://localhost",Jr=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function bv(n,e,t,r=Ev,i=yv){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Iv),{width:r.toString(),height:i.toString(),top:s,left:o}),u=x().toLowerCase();t&&(a=Rl(u)?wv:t),Sl(u)&&(e=e||Tv,c.scrollbars="yes");let d=Object.entries(c).reduce((h,[m,y])=>`${h}${m}=${y},`,"");if(gm(u)&&a!=="_self")return Sv(e||"",a),new Jr(null);let f=window.open(e||"",a,d);_(f,n,"popup-blocked");try{f.focus()}catch{}return new Jr(f)}function Sv(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Av="__/auth/handler",Rv="emulator/auth/handler",Cv=encodeURIComponent("fac");function gl(n,e,t,r,i,s){return l(this,null,function*(){_(n.config.authDomain,n,"auth-domain-config-required"),_(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:St,eventId:i};if(e instanceof An){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",qc(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof zr){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${Cv}=${encodeURIComponent(c)}`:"";return`${kv(n)}?${bt(a).slice(1)}${u}`})}function kv({config:n}){return n.emulator?Co(n,Rv):`https://${n.authDomain}/${Av}`}var lo="webStorageSupport",bo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$o,this._completeRedirectFn=tv,this._overrideRedirectResult=Zm}_openPopup(e,t,r,i){return l(this,null,function*(){var s;Pe((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield gl(e,t,r,ho(),i);return bv(e,o,jo())})}_openRedirect(e,t,r,i){return l(this,null,function*(){yield this._originValidation(e);let s=yield gl(e,t,r,ho(),i);return Lm(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Pe(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return l(this,null,function*(){let t=yield _v(e),r=new To(e);return t.register("authEvent",i=>(_(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lo,{type:lo},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[lo];o!==void 0&&t(!!o),de(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=av(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Dl()||Al()||No()}},Bl=bo;var ml="@firebase/auth",vl="1.10.8";var So=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Pv(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ov(n){be(new z("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;_(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nl(n)},u=new _o(r,i,s,c);return wm(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),be(new z("auth-internal",e=>{let t=Xr(e.getProvider("auth").getImmediate());return(r=>new So(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),N(ml,vl,Pv(n)),N(ml,vl,"esm2017")}var Dv=300,Nv=ps("authIdTokenMaxAge")||Dv,_l=null,Mv=n=>e=>l(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Nv)return;let i=t?.token;_l!==i&&(_l=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Bo(n=hn()){let e=pr(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Lo(n,{popupRedirectResolver:Bl,persistence:[$l,xl,$o]}),r=ps("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=Mv(s.toString());Vo(t,o,()=>o(t.currentUser)),Fo(t,a=>o(a))}}let i=hs("auth");return i&&Uo(t,`http://${i}`),t}function Lv(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Im({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=oe("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",Lv().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ov("Browser");var zl="auth",ht=class{constructor(e){return e}},zo=class{constructor(){return vr(zl)}};var qo=new k("angularfire2.auth-instances");function A_(n,e){let t=Ps(zl,n,e);return t&&new ht(t)}function R_(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ht(r)}}var C_={provide:zo,deps:[[new Me,qo]]},k_={provide:ht,useFactory:A_,deps:[[new Me,qo],it]};function QS(n,...e){return N("angularfire",Rt.full,"auth"),Xe([k_,C_,{provide:qo,useFactory:R_(n),multi:!0,deps:[V,Q,Ct,fn,[new Me,Ir],...e]}])}var ql=Ve(il,!0);var eA=Ve(Bo,!0);var Gl=Ve(Wo,!0,2);var Kl=Ve(Ho,!0,2);var I="primary",$n=Symbol("RouteTitle"),Xo=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function gt(n){return new Xo(n)}function nd(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function P_(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!he(n[t],e[t]))return!1;return!0}function he(n,e){let t=n?Zo(n):void 0,r=e?Zo(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!rd(n[i],e[i]))return!1;return!0}function Zo(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function rd(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function id(n){return n.length>0?n[n.length-1]:null}function Oe(n){return Ca(n)?n:ic(n)?L(Promise.resolve(n)):v(n)}var O_={exact:od,subset:ad},sd={exact:D_,subset:N_,ignored:()=>!0};function Yl(n,e,t){return O_[t.paths](n.root,e.root,t.matrixParams)&&sd[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function D_(n,e){return he(n,e)}function od(n,e,t){if(!ft(n.segments,e.segments)||!ti(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!od(n.children[r],e.children[r],t))return!1;return!0}function N_(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>rd(n[t],e[t]))}function ad(n,e,t){return cd(n,e,e.segments,t)}function cd(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ft(i,t)||e.hasChildren()||!ti(i,t,r))}else if(n.segments.length===t.length){if(!ft(n.segments,t)||!ti(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!ad(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!ft(n.segments,i)||!ti(n.segments,i,r)||!n.children[I]?!1:cd(n.children[I],e,s,r)}}function ti(n,e,t){return e.every((r,i)=>sd[t](n[i].parameters,r.parameters))}var pe=class{root;queryParams;fragment;_queryParamMap;constructor(e=new b([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=gt(this.queryParams),this._queryParamMap}toString(){return U_.serialize(this)}},b=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ni(this)}},Be=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=gt(this.parameters),this._parameterMap}toString(){return ld(this)}};function M_(n,e){return ft(n,e)&&n.every((t,r)=>he(t.parameters,e[r].parameters))}function ft(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function L_(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===I&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==I&&(t=t.concat(e(i,r)))}),t}var mt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>new ze,providedIn:"root"})}return n})(),ze=class{parse(e){let t=new ea(e);return new pe(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${kn(e.root,!0)}`,r=V_(e.queryParams),i=typeof e.fragment=="string"?`#${x_(e.fragment)}`:"";return`${t}${r}${i}`}},U_=new ze;function ni(n){return n.segments.map(e=>ld(e)).join("/")}function kn(n,e){if(!n.hasChildren())return ni(n);if(e){let t=n.children[I]?kn(n.children[I],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==I&&r.push(`${i}:${kn(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=L_(n,(r,i)=>i===I?[kn(n.children[I],!1)]:[`${i}:${kn(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[I]!=null?`${ni(n)}/${t[0]}`:`${ni(n)}/(${t.join("//")})`}}function ud(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qr(n){return ud(n).replace(/%3B/gi,";")}function x_(n){return encodeURI(n)}function Qo(n){return ud(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ri(n){return decodeURIComponent(n)}function Jl(n){return ri(n.replace(/\+/g,"%20"))}function ld(n){return`${Qo(n.path)}${F_(n.parameters)}`}function F_(n){return Object.entries(n).map(([e,t])=>`;${Qo(e)}=${Qo(t)}`).join("")}function V_(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Qr(t)}=${Qr(i)}`).join("&"):`${Qr(t)}=${Qr(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var H_=/^[^\/()?;#]+/;function Go(n){let e=n.match(H_);return e?e[0]:""}var $_=/^[^\/()?;=#]+/;function j_(n){let e=n.match($_);return e?e[0]:""}var W_=/^[^=?&#]+/;function B_(n){let e=n.match(W_);return e?e[0]:""}var z_=/^[^&#]+/;function q_(n){let e=n.match(z_);return e?e[0]:""}var ea=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new b([],{}):new b([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[I]=new b(e,t)),r}parseSegment(){let e=Go(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new Be(ri(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=j_(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Go(this.remaining);i&&(r=i,this.capture(r))}e[ri(t)]=ri(r)}parseQueryParam(e){let t=B_(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=q_(this.remaining);o&&(r=o,this.capture(r))}let i=Jl(t),s=Jl(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Go(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=I);let o=this.parseChildren();t[s]=Object.keys(o).length===1&&o[I]?o[I]:new b([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}};function dd(n){return n.segments.length>0?new b([],{[I]:n}):n}function hd(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=hd(i);if(r===I&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new b(n.segments,e);return G_(t)}function G_(n){if(n.numberOfChildren===1&&n.children[I]){let e=n.children[I];return new b(n.segments.concat(e.segments),e.children)}return n}function qe(n){return n instanceof pe}function fd(n,e,t=null,r=null){let i=pd(n);return gd(i,e,t,r)}function pd(n){let e;function t(s){let o={};for(let c of s.children){let u=t(c);o[c.outlet]=u}let a=new b(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=dd(r);return e??i}function gd(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Ko(i,i,i,t,r);let s=K_(e);if(s.toRoot())return Ko(i,i,new b([],{}),t,r);let o=Y_(s,i,n),a=o.processChildren?On(o.segmentGroup,o.index,s.commands):vd(o.segmentGroup,o.index,s.commands);return Ko(i,o.segmentGroup,a,t,r)}function ii(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Nn(n){return typeof n=="object"&&n!=null&&n.outlets}function Ko(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;n===e?o=t:o=md(n,e,t);let a=dd(hd(o));return new pe(a,s,i)}function md(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=md(s,e,t)}),new b(n.segments,r)}var si=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ii(r[0]))throw new C(4003,!1);let i=r.find(Nn);if(i&&i!==id(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function K_(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new si(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new si(t,e,r)}var xt=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Y_(n,e,t){if(n.isAbsolute)return new xt(e,!0,0);if(!t)return new xt(e,!1,NaN);if(t.parent===null)return new xt(t,!0,0);let r=ii(n.commands[0])?0:1,i=t.segments.length-1+r;return J_(t,i,n.numberOfDoubleDots)}function J_(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new xt(r,!1,i-s)}function X_(n){return Nn(n[0])?n[0].outlets:{[I]:n}}function vd(n,e,t){if(n??=new b([],{}),n.segments.length===0&&n.hasChildren())return On(n,e,t);let r=Z_(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new b(n.segments.slice(0,r.pathIndex),{});return s.children[I]=new b(n.segments.slice(r.pathIndex),n.children),On(s,0,i)}else return r.match&&i.length===0?new b(n.segments,{}):r.match&&!n.hasChildren()?ta(n,e,t):r.match?On(n,0,i):ta(n,e,t)}function On(n,e,t){if(t.length===0)return new b(n.segments,{});{let r=X_(t),i={};if(Object.keys(r).some(s=>s!==I)&&n.children[I]&&n.numberOfChildren===1&&n.children[I].segments.length===0){let s=On(n.children[I],e,t);return new b(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=vd(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new b(n.segments,i)}}function Z_(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(Nn(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Zl(c,u,o))return s;r+=2}else{if(!Zl(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ta(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Nn(s)){let c=Q_(s.outlets);return new b(r,c)}if(i===0&&ii(t[0])){let c=n.segments[e];r.push(new Be(c.path,Xl(t[0]))),i++;continue}let o=Nn(s)?s.outlets[I]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&ii(a)?(r.push(new Be(o,Xl(a))),i+=2):(r.push(new Be(o,{})),i++)}return new b(r,{})}function Q_(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=ta(new b([],{}),0,r))}),e}function Xl(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Zl(n,e,t){return n==t.path&&he(e,t.parameters)}var Ft="imperative",O=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(O||{}),G=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ge=class extends G{type=O.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},K=class extends G{urlAfterRedirects;type=O.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},H=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(H||{}),Ht=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Ht||{}),fe=class extends G{reason;code;type=O.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ge=class extends G{reason;code;type=O.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},$t=class extends G{error;target;type=O.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Mn=class extends G{urlAfterRedirects;state;type=O.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},oi=class extends G{urlAfterRedirects;state;type=O.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ai=class extends G{urlAfterRedirects;state;shouldActivate;type=O.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ci=class extends G{urlAfterRedirects;state;type=O.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ui=class extends G{urlAfterRedirects;state;type=O.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},li=class{route;type=O.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},di=class{route;type=O.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hi=class{snapshot;type=O.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fi=class{snapshot;type=O.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pi=class{snapshot;type=O.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gi=class{snapshot;type=O.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jt=class{routerEvent;position;anchor;type=O.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ln=class{},Wt=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function eI(n){return!(n instanceof Ln)&&!(n instanceof Wt)}function tI(n,e){return n.providers&&!n._injector&&(n._injector=er(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ae(n){return n.outlet||I}function nI(n,e){let t=n.filter(r=>ae(r)===e);return t.push(...n.filter(r=>ae(r)!==e)),t}function qt(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var mi=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return qt(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new vt(this.rootInjector)}},vt=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new mi(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(w(ye))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vi=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=na(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=na(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=ra(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ra(e,this._root).map(t=>t.value)}};function na(n,e){if(n===e.value)return e;for(let t of e.children){let r=na(n,t);if(r)return r}return null}function ra(n,e){if(n===e.value)return[e];for(let t of e.children){let r=ra(n,t);if(r.length)return r.unshift(e),r}return[]}var q=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ut(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Un=class extends vi{snapshot;constructor(e,t){super(e),this.snapshot=t,da(this,e)}toString(){return this.snapshot.toString()}};function _d(n){let e=rI(n),t=new X([new Be("",{})]),r=new X({}),i=new X({}),s=new X({}),o=new X(""),a=new me(t,r,s,o,i,I,n,e.root);return a.snapshot=e.root,new Un(new q(a,[]),e)}function rI(n){let e={},t={},r={},s=new pt([],e,r,"",t,I,n,null,{});return new xn("",new q(s,[]))}var me=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(S(u=>u[$n]))??v(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(S(e=>gt(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(S(e=>gt(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _i(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:p(p({},e.params),n.params),data:p(p({},e.data),n.data),resolve:p(p(p(p({},n.data),e.data),i?.data),n._resolvedData)}:r={params:p({},n.params),data:p({},n.data),resolve:p(p({},n.data),n._resolvedData??{})},i&&Ed(i)&&(r.resolve[$n]=i.title),r}var pt=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[$n]}constructor(e,t,r,i,s,o,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=gt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=gt(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},xn=class extends vi{url;constructor(e,t){super(t),this.url=e,da(this,t)}toString(){return Id(this._root)}};function da(n,e){e.value._routerState=n,e.children.forEach(t=>da(n,t))}function Id(n){let e=n.children.length>0?` { ${n.children.map(Id).join(", ")} } `:"";return`${n.value}${e}`}function Yo(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,he(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),he(e.params,t.params)||n.paramsSubject.next(t.params),P_(e.url,t.url)||n.urlSubject.next(t.url),he(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ia(n,e){let t=he(n.params,e.params)&&M_(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ia(n.parent,e.parent))}function Ed(n){return typeof n.title=="string"||n.title===null}var yd=new k(""),ha=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=I;activateEvents=new et;deactivateEvents=new et;attachEvents=new et;detachEvents=new et;routerOutletData=fc(void 0);parentContexts=g(vt);location=g(tc);changeDetector=g(nr);inputBinder=g(jn,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new sa(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Xt]})}return n})(),sa=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===me?this.route:e===vt?this.childContexts:e===yd?this.outletData:this.parent.get(e,t)}},jn=new k(""),fa=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Kn([r.queryParams,r.params,r.data]).pipe(j(([s,o,a],c)=>(a=p(p(p({},s),o),a),c===0?v(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=gc(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),pa=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rc({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&oc(0,"router-outlet")},dependencies:[ha],encapsulation:2})}return n})();function ga(n){let e=n.children&&n.children.map(ga),t=e?P(p({},n),{children:e}):p({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==I&&(t.component=pa),t}function iI(n,e,t){let r=Fn(n,e._root,t?t._root:void 0);return new Un(r,e)}function Fn(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=sI(n,e,t);return new q(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Fn(n,a)),o}}let r=oI(e.value),i=e.children.map(s=>Fn(n,s));return new q(r,i)}}function sI(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Fn(n,r,i);return Fn(n,r)})}function oI(n){return new me(new X(n.url),new X(n.params),new X(n.queryParams),new X(n.fragment),new X(n.data),n.outlet,n.component,n)}var Bt=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},wd="ngNavigationCancelingError";function Ii(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=qe(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Td(!1,H.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Td(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[wd]=!0,t.cancellationCode=e,t}function aI(n){return bd(n)&&qe(n.url)}function bd(n){return!!n&&n[wd]}var cI=(n,e,t,r)=>S(i=>(new oa(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),oa=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Yo(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ut(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ut(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ut(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ut(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new gi(s.value.snapshot))}),e.children.length&&this.forwardEvent(new fi(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(Yo(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Yo(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Ei=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Vt=class{component;route;constructor(e,t){this.component=e,this.route=t}};function uI(n,e,t){let r=n._root,i=e?e._root:null;return Pn(r,i,t,[r.value])}function lI(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Gt(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!La(n)?n:e.get(n):r}function Pn(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ut(e);return n.children.forEach(o=>{dI(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Dn(a,t.getContext(o),i)),i}function dI(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=hI(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ei(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Pn(n,e,a?a.children:null,r,i):Pn(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Vt(a.outlet.component,o))}else o&&Dn(e,a,i),i.canActivateChecks.push(new Ei(r)),s.component?Pn(n,null,a?a.children:null,r,i):Pn(n,null,t,r,i);return i}function hI(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ft(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ft(n.url,e.url)||!he(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ia(n,e)||!he(n.queryParams,e.queryParams);case"paramsChange":default:return!ia(n,e)}}function Dn(n,e,t){let r=Ut(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Dn(o,e.children.getContext(s),t):Dn(o,null,t):Dn(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Vt(e.outlet.component,i)):t.canDeactivateChecks.push(new Vt(null,i)):t.canDeactivateChecks.push(new Vt(null,i))}function Wn(n){return typeof n=="function"}function fI(n){return typeof n=="boolean"}function pI(n){return n&&Wn(n.canLoad)}function gI(n){return n&&Wn(n.canActivate)}function mI(n){return n&&Wn(n.canActivateChild)}function vI(n){return n&&Wn(n.canDeactivate)}function _I(n){return n&&Wn(n.canMatch)}function Sd(n){return n instanceof ka||n?.name==="EmptyError"}var ei=Symbol("INITIAL_VALUE");function zt(){return j(n=>Kn(n.map(e=>e.pipe(It(1),Na(ei)))).pipe(S(e=>{for(let t of e)if(t!==!0){if(t===ei)return ei;if(t===!1||II(t))return t}return!0}),Ee(e=>e!==ei),It(1)))}function II(n){return qe(n)||n instanceof Bt}function EI(n,e){return $(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?v(P(p({},t),{guardsResult:!0})):yI(o,r,i,n).pipe($(a=>a&&fI(a)?wI(r,s,n,e):v(a)),S(a=>P(p({},t),{guardsResult:a})))})}function yI(n,e,t,r){return L(n).pipe($(i=>RI(i.component,i.route,t,e,r)),Ne(i=>i!==!0,!0))}function wI(n,e,t,r){return L(e).pipe(Je(i=>Pa(bI(i.route.parent,r),TI(i.route,r),AI(n,i.path,t),SI(n,i.route,t))),Ne(i=>i!==!0,!0))}function TI(n,e){return n!==null&&e&&e(new pi(n)),v(!0)}function bI(n,e){return n!==null&&e&&e(new hi(n)),v(!0)}function SI(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return v(!0);let i=r.map(s=>Yn(()=>{let o=qt(e)??t,a=Gt(s,o),c=gI(a)?a.canActivate(e,n):U(o,()=>a(e,n));return Oe(c).pipe(Ne())}));return v(i).pipe(zt())}function AI(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>lI(o)).filter(o=>o!==null).map(o=>Yn(()=>{let a=o.guards.map(c=>{let u=qt(o.node)??t,d=Gt(c,u),f=mI(d)?d.canActivateChild(r,n):U(u,()=>d(r,n));return Oe(f).pipe(Ne())});return v(a).pipe(zt())}));return v(s).pipe(zt())}function RI(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return v(!0);let o=s.map(a=>{let c=qt(e)??i,u=Gt(a,c),d=vI(u)?u.canDeactivate(n,e,t,r):U(c,()=>u(n,e,t,r));return Oe(d).pipe(Ne())});return v(o).pipe(zt())}function CI(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return v(!0);let s=i.map(o=>{let a=Gt(o,n),c=pI(a)?a.canLoad(e,t):U(n,()=>a(e,t));return Oe(c)});return v(s).pipe(zt(),Ad(r))}function Ad(n){return Sa(D(e=>{if(typeof e!="boolean")throw Ii(n,e)}),S(e=>e===!0))}function kI(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return v(!0);let s=i.map(o=>{let a=Gt(o,n),c=_I(a)?a.canMatch(e,t):U(n,()=>a(e,t));return Oe(c)});return v(s).pipe(zt(),Ad(r))}var Vn=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Hn=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Lt(n){return Kt(new Vn(n))}function PI(n){return Kt(new C(4e3,!1))}function OI(n){return Kt(Td(!1,H.GuardRejected))}var aa=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return v(r);if(i.numberOfChildren>1||!i.children[I])return PI(`${e.redirectTo}`);i=i.children[I]}}applyRedirectCommands(e,t,r,i,s){return DI(t,i,s).pipe(S(o=>{if(o instanceof pe)throw new Hn(o);let a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),e,r);if(o[0]==="/")throw new Hn(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new pe(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new b(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function DI(n,e,t){if(typeof n=="string")return v(n);let r=n,{queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,params:u,data:d,title:f}=e;return Oe(U(t,()=>r({params:u,data:d,queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,title:f})))}var ca={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NI(n,e,t,r,i){let s=Rd(n,e,t);return s.matched?(r=tI(e,r),kI(r,e,t,i).pipe(S(o=>o===!0?s:p({},ca)))):v(s)}function Rd(n,e,t){if(e.path==="**")return MI(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?p({},ca):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||nd)(t,n,e);if(!i)return p({},ca);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?p(p({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function MI(n){return{matched:!0,parameters:n.length>0?id(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Ql(n,e,t,r){return t.length>0&&xI(n,t,r)?{segmentGroup:new b(e,UI(r,new b(t,n.children))),slicedSegments:[]}:t.length===0&&FI(n,t,r)?{segmentGroup:new b(n.segments,LI(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new b(n.segments,n.children),slicedSegments:t}}function LI(n,e,t,r){let i={};for(let s of t)if(wi(n,e,s)&&!r[ae(s)]){let o=new b([],{});i[ae(s)]=o}return p(p({},r),i)}function UI(n,e){let t={};t[I]=e;for(let r of n)if(r.path===""&&ae(r)!==I){let i=new b([],{});t[ae(r)]=i}return t}function xI(n,e,t){return t.some(r=>wi(n,e,r)&&ae(r)!==I)}function FI(n,e,t){return t.some(r=>wi(n,e,r))}function wi(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function VI(n,e,t){return e.length===0&&!n.children[t]}var ua=class{};function HI(n,e,t,r,i,s,o="emptyOnly"){return new la(n,e,t,r,i,o,s).recognize()}var $I=31,la=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new aa(this.urlSerializer,this.urlTree)}noMatchError(e){return new C(4002,`'${e.segmentGroup}'`)}recognize(){let e=Ql(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(S(({children:t,rootSnapshot:r})=>{let i=new q(r,t),s=new xn("",i),o=fd(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new pt([],Object.freeze({}),Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),I,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,I,t).pipe(S(r=>({children:r,rootSnapshot:t})),Ye(r=>{if(r instanceof Hn)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Vn?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(S(o=>o instanceof q?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return L(s).pipe(Je(o=>{let a=r.children[o],c=nI(t,o);return this.processSegmentGroup(e,c,a,o,i)}),Da((o,a)=>(o.push(...a),o)),Li(null),Oa(),$(o=>{if(o===null)return Lt(r);let a=Cd(o);return jI(a),v(a)}))}processSegment(e,t,r,i,s,o,a){return L(t).pipe(Je(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a).pipe(Ye(u=>{if(u instanceof Vn)return v(null);throw u}))),Ne(c=>!!c),Ye(c=>{if(Sd(c))return VI(r,i,s)?v(new ua):Lt(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,c){return ae(r)!==o&&(o===I||!wi(i,s,r))?Lt(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c):Lt(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:h}=Rd(t,i,s);if(!c)return Lt(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$I&&(this.allowRedirects=!1));let m=new pt(s,u,Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,ed(i),ae(i),i.component??i._loadedComponent??null,i,td(i)),y=_i(m,a,this.paramsInheritanceStrategy);return m.params=Object.freeze(y.params),m.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,m,e).pipe(j(M=>this.applyRedirects.lineralizeSegments(i,M)),$(M=>this.processSegment(e,r,t,M.concat(h),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=NI(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(j(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(j(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:h,remainingSegments:m}=c,y=new pt(h,f,Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,ed(r),ae(r),r.component??r._loadedComponent??null,r,td(r)),F=_i(y,o,this.paramsInheritanceStrategy);y.params=Object.freeze(F.params),y.data=Object.freeze(F.data);let{segmentGroup:M,slicedSegments:B}=Ql(t,h,m,u);if(B.length===0&&M.hasChildren())return this.processChildren(d,u,M,y).pipe(S(J=>new q(y,J)));if(u.length===0&&B.length===0)return v(new q(y,[]));let Z=ae(r)===s;return this.processSegment(d,u,M,B,Z?I:s,!0,y).pipe(S(J=>new q(y,J instanceof q?[J]:[])))}))):Lt(t)))}getChildConfig(e,t,r){return t.children?v({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?v({routes:t._loadedRoutes,injector:t._loadedInjector}):CI(e,t,r,this.urlSerializer).pipe($(i=>i?this.configLoader.loadChildren(e,t).pipe(D(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):OI(t))):v({routes:[],injector:e})}};function jI(n){n.sort((e,t)=>e.value.outlet===I?-1:t.value.outlet===I?1:e.value.outlet.localeCompare(t.value.outlet))}function WI(n){let e=n.value.routeConfig;return e&&e.path===""}function Cd(n){let e=[],t=new Set;for(let r of n){if(!WI(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Cd(r.children);e.push(new q(r.value,i))}return e.filter(r=>!t.has(r))}function ed(n){return n.data||{}}function td(n){return n.resolve||{}}function BI(n,e,t,r,i,s){return $(o=>HI(n,e,t,r,o.extractedUrl,i,s).pipe(S(({state:a,tree:c})=>P(p({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function zI(n,e){return $(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return v(t);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of kd(c))o.add(u);let a=0;return L(o).pipe(Je(c=>s.has(c)?qI(c,r,n,e):(c.data=_i(c,c.parent,n).resolve,v(void 0))),D(()=>a++),Ui(1),$(c=>a===o.size?v(t):Ie))})}function kd(n){let e=n.children.map(t=>kd(t)).flat();return[n,...e]}function qI(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!Ed(i)&&(s[$n]=i.title),Yn(()=>(n.data=_i(n,n.parent,t).resolve,GI(s,n,e,r).pipe(S(o=>(n._resolvedData=o,n.data=p(p({},n.data),o),null)))))}function GI(n,e,t,r){let i=Zo(n);if(i.length===0)return v({});let s={};return L(i).pipe($(o=>KI(n[o],e,t,r).pipe(Ne(),D(a=>{if(a instanceof Bt)throw Ii(new ze,a);s[o]=a}))),Ui(1),S(()=>s),Ye(o=>Sd(o)?Ie:Kt(o)))}function KI(n,e,t,r){let i=qt(e)??r,s=Gt(n,i),o=s.resolve?s.resolve(e,t):U(i,()=>s(e,t));return Oe(o)}function Jo(n){return j(e=>{let t=n(e);return t?L(t).pipe(S(()=>e)):v(e)})}var ma=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===I);return r}getResolvedTitleForRoute(t){return t.data[$n]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>g(Pd),providedIn:"root"})}return n})(),Pd=(()=>{class n extends ma{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(w(Dc))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ke=new k("",{providedIn:"root",factory:()=>({})}),_t=new k(""),Ti=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=g(dc);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return v(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Oe(U(t,()=>r.loadComponent())).pipe(S(Dd),j(Nd),D(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Jn(()=>{this.componentLoaders.delete(r)})),s=new Di(i,()=>new _e).pipe(Oi());return this.componentLoaders.set(r,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return v({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Od(r,this.compiler,t,this.onLoadEndListener).pipe(Jn(()=>{this.childrenLoaders.delete(r)})),o=new Di(s,()=>new _e).pipe(Oi());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Od(n,e,t,r){return Oe(U(t,()=>n.loadChildren())).pipe(S(Dd),j(Nd),$(i=>i instanceof nc||Array.isArray(i)?v(i):L(e.compileModuleAsync(i))),S(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(_t,[],{optional:!0,self:!0}).flat()),{routes:o.map(ga),injector:s}}))}function YI(n){return n&&typeof n=="object"&&"default"in n}function Dd(n){return YI(n)?n.default:n}function Nd(n){return v(n)}var bi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>g(JI),providedIn:"root"})}return n})(),JI=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),va=new k(""),_a=new k("");function Md(n,e,t){let r=n.get(_a),i=n.get(W);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),XI(n)));a.ready.catch(u=>{});let{onViewTransitionCreated:c}=r;return c&&U(n,()=>c({transition:a,from:e,to:t})),o}function XI(n){return new Promise(e=>{Za({read:()=>setTimeout(e)},{injector:n})})}var Ia=new k(""),Si=(()=>{class n{currentNavigation=Jt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new _e;transitionAbortWithErrorSubject=new _e;configLoader=g(Ti);environmentInjector=g(ye);destroyRef=g(Hi);urlSerializer=g(mt);rootContexts=g(vt);location=g(wt);inputBindingEnabled=g(jn,{optional:!0})!==null;titleStrategy=g(ma);options=g(Ke,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=g(bi);createViewTransition=g(va,{optional:!0});navigationErrorHandler=g(Ia,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>v(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new li(i)),r=i=>this.events.next(new di(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Le(()=>{this.transitions?.next(P(p({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new X(null),this.transitions.pipe(Ee(r=>r!==null),j(r=>{let i=!1;return v(r).pipe(j(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",H.SupersededByNewNavigation),Ie;this.currentTransition=r,this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?P(p({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>s.abortController.abort()});let o=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!o&&a!=="reload")return this.events.next(new ge(s.id,this.urlSerializer.serialize(s.rawUrl),"",Ht.IgnoredSameUrlNavigation)),s.resolve(!1),Ie;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return v(s).pipe(j(c=>(this.events.next(new Ge(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Ie:Promise.resolve(c))),BI(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),D(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=c.urlAfterRedirects,d));let u=new Mn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(o&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:f,extras:h}=s,m=new Ge(c,this.urlSerializer.serialize(u),d,f);this.events.next(m);let y=_d(this.rootComponentType).snapshot;return this.currentTransition=r=P(p({},s),{targetSnapshot:y,urlAfterRedirects:u,extras:P(p({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(F=>(F.finalUrl=u,F)),v(r)}else return this.events.next(new ge(s.id,this.urlSerializer.serialize(s.extractedUrl),"",Ht.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ie}),D(s=>{let o=new oi(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(o)}),S(s=>(this.currentTransition=r=P(p({},s),{guards:uI(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),EI(this.environmentInjector,s=>this.events.next(s)),D(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Ii(this.urlSerializer,s.guardsResult);let o=new ai(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(o)}),Ee(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",H.GuardRejected),!1)),Jo(s=>{if(s.guards.canActivateChecks.length!==0)return v(s).pipe(D(o=>{let a=new ci(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),j(o=>{let a=!1;return v(o).pipe(zI(this.paramsInheritanceStrategy,this.environmentInjector),D({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(o,"",H.NoDataFromResolver)}}))}),D(o=>{let a=new ui(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}))}),Jo(s=>{let o=a=>{let c=[];if(a.routeConfig?.loadComponent){let u=qt(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(D(d=>{a.component=d}),S(()=>{})))}for(let u of a.children)c.push(...o(u));return c};return Kn(o(s.targetSnapshot.root)).pipe(Li(null),It(1))}),Jo(()=>this.afterPreactivation()),j(()=>{let{currentSnapshot:s,targetSnapshot:o}=r,a=this.createViewTransition?.(this.environmentInjector,s.root,o.root);return a?L(a).pipe(S(()=>r)):v(r)}),S(s=>{let o=iI(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=P(p({},s),{targetRouterState:o}),this.currentNavigation.update(a=>(a.targetRouterState=o,a)),r}),D(()=>{this.events.next(new Ln)}),cI(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),It(1),xi(new ve(s=>{let o=r.abortController.signal,a=()=>s.next();return o.addEventListener("abort",a),()=>o.removeEventListener("abort",a)}).pipe(Ee(()=>!i&&!r.targetRouterState),D(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",H.Aborted)}))),D({next:s=>{i=!0,this.lastSuccessfulNavigation=Le(this.currentNavigation),this.events.next(new K(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),xi(this.transitionAbortWithErrorSubject.pipe(D(s=>{throw s}))),Jn(()=>{i||this.cancelNavigationTransition(r,"",H.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ye(s=>{if(this.destroyed)return r.resolve(!1),Ie;if(i=!0,bd(s))this.events.next(new fe(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),aI(s)?this.events.next(new Wt(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let o=new $t(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let a=U(this.environmentInjector,()=>this.navigationErrorHandler?.(o));if(a instanceof Bt){let{message:c,cancellationCode:u}=Ii(this.urlSerializer,a);this.events.next(new fe(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new Wt(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(o),s}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Ie}))}))}cancelNavigationTransition(t,r,i){let s=new fe(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Le(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZI(n){return n!==Ft}var Ld=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>g(QI),providedIn:"root"})}return n})(),yi=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},QI=(()=>{class n extends yi{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ji(n)))(i||n)}})();static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ud=(()=>{class n{urlSerializer=g(mt);options=g(Ke,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=g(wt);urlHandlingStrategy=g(bi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new pe;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,o=i??s;return o instanceof pe?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=_d(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>g(eE),providedIn:"root"})}return n})(),eE=(()=>{class n extends Ud{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ge?this.updateStateMemento():t instanceof ge?this.commitTransition(r):t instanceof Mn?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ln?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof fe&&t.code!==H.SupersededByNewNavigation&&t.code!==H.Redirect?this.restoreHistory(r):t instanceof $t?this.restoreHistory(r,!0):t instanceof K&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(t)||s){let a=this.browserPageId,c=p(p({},o),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=p(p({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ji(n)))(i||n)}})();static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ai(n,e){n.events.pipe(Ee(t=>t instanceof K||t instanceof fe||t instanceof $t||t instanceof ge),S(t=>t instanceof K||t instanceof ge?0:(t instanceof fe?t.code===H.Redirect||t.code===H.SupersededByNewNavigation:!1)?2:1),Ee(t=>t!==2),It(1)).subscribe(()=>{e()})}var tE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Y=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=g(Yi);stateManager=g(Ud);options=g(Ke,{optional:!0})||{};pendingTasks=g(xa);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=g(Si);urlSerializer=g(mt);location=g(wt);urlHandlingStrategy=g(bi);injector=g(ye);_events=new _e;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=g(Ld);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=g(_t,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!g(jn,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ba;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=Le(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof fe&&r.code!==H.Redirect&&r.code!==H.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof K)this.navigated=!0;else if(r instanceof Wt){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=p({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ZI(i.source)},o);this.scheduleNavigation(a,Ft,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}eI(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ft,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=p({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s).catch(c=>{this.disposed||this.injector.get(Zn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Le(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ga),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=p(p({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=i?i.snapshot:this.routerState.snapshot.root;f=pd(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return gd(f,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=qe(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ft,null,r)}navigate(t,r={skipLocationChange:!1}){return rE(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Vi(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=p({},tE):r===!1?i=p({},nE):i=r,qe(t))return Yl(this.currentUrlTree,t,i);let s=this.parseUrl(t);return Yl(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((f,h)=>{a=f,c=h});let d=this.pendingTasks.add();return Ai(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rE(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new C(4008,!1)}var Ri=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Jt(null);get href(){return Le(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new _e;applicationErrorHandler=g(Zn);options=g(Ke,{optional:!0});constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.reactiveHref.set(g(new hc("href"),{optional:!0}));let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof K&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(qe(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:qe(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(ee(Y),ee(me),Fa("tabindex"),ee(Ki),ee(Wi),ee(tn))};static \u0275dir=Qt({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&ac("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&sc("href",i.reactiveHref(),Ka)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",rr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",rr],replaceUrl:[2,"replaceUrl","replaceUrl",rr],routerLink:"routerLink"},features:[Xt]})}return n})(),iE=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new et;constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof K&&this.update()})}ngAfterContentInit(){v(this.links.changes,v(null)).pipe(Yt()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=L(t).pipe(Yt()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=sE(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(ee(Y),ee(Wi),ee(Ki),ee(nr),ee(Ri,8))};static \u0275dir=Qt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&cc(s,Ri,5),r&2){let o;uc(o=lc())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Xt]})}return n})();function sE(n){return!!n.paths}var Bn=class{};var xd=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,s){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ee(t=>t instanceof K),Je(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=er(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return L(i).pipe(Yt())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=v(null);let s=i.pipe($(o=>o===null?v(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(t,r);return L([s,o]).pipe(Yt())}else return s})}static \u0275fac=function(r){return new(r||n)(w(Y),w(ye),w(Bn),w(Ti))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fd=new k(""),oE=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Ft;restoredId=0;store={};constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ge?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof K?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ge&&t.code===Ht.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof jt))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>l(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new jt(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){ec()};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})();function aE(n,...e){return Xe([{provide:_t,multi:!0,useValue:n},[],{provide:me,useFactory:Vd,deps:[Y]},{provide:Xi,multi:!0,useFactory:Hd},e.map(t=>t.\u0275providers)])}function Vd(n){return n.routerState.root}function zn(n,e){return{\u0275kind:n,\u0275providers:e}}function Hd(){let n=g(Q);return e=>{let t=n.get(Zi);if(e!==t.components[0])return;let r=n.get(Y),i=n.get($d);n.get(ya)===1&&r.initialNavigation(),n.get(Bd,null,{optional:!0})?.setUpPreloading(),n.get(Fd,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var $d=new k("",{factory:()=>new _e}),ya=new k("",{providedIn:"root",factory:()=>1});function jd(){let n=[{provide:qi,useValue:!0},{provide:ya,useValue:0},Ji(()=>{let e=g(Q);return e.get(_c,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Y),s=e.get($d);Ai(i,()=>{r(!0)}),e.get(Si).afterPreactivation=()=>(r(!0),s.closed?v(void 0):s),i.initialNavigation()}))})];return zn(2,n)}function Wd(){let n=[Ji(()=>{g(Y).setUpLocationChangeListener()}),{provide:ya,useValue:2}];return zn(3,n)}var Bd=new k("");function zd(n){return zn(0,[{provide:Bd,useExisting:xd},{provide:Bn,useExisting:n}])}function qd(){return zn(8,[fa,{provide:jn,useExisting:fa}])}function Gd(n){Xa("NgRouterViewTransitions");let e=[{provide:va,useValue:Md},{provide:_a,useValue:p({skipNextTransition:!!n?.skipInitialTransition},n)}];return zn(9,e)}var Kd=[wt,{provide:mt,useClass:ze},Y,vt,{provide:me,useFactory:Vd,deps:[Y]},Ti,[]],cE=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[Kd,[],{provide:_t,multi:!0,useValue:t},[],r?.errorHandler?{provide:Ia,useValue:r.errorHandler}:[],{provide:Ke,useValue:r||{}},r?.useHash?lE():dE(),uE(),r?.preloadingStrategy?zd(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?hE(r):[],r?.bindToComponentInputs?qd().\u0275providers:[],r?.enableViewTransitions?Gd().\u0275providers:[],fE()]}}static forChild(t){return{ngModule:n,providers:[{provide:_t,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=tr({type:n});static \u0275inj=Xn({})}return n})();function uE(){return{provide:Fd,useFactory:()=>{let n=g(bc),e=g(V),t=g(Ke),r=g(Si),i=g(mt);return t.scrollOffset&&n.setOffset(t.scrollOffset),new oE(i,r,n,e,t)}}}function lE(){return{provide:tn,useClass:Ec}}function dE(){return{provide:tn,useClass:Ic}}function hE(n){return[n.initialNavigation==="disabled"?Wd().\u0275providers:[],n.initialNavigation==="enabledBlocking"?jd().\u0275providers:[]]}var Ea=new k("");function fE(){return[{provide:Ea,useFactory:Hd},{provide:Xi,multi:!0,useExisting:Ea}]}var Yd=class n{auth=g(ht);router=g(Y);user$=ql(this.auth);constructor(){}signInWithGoogle(){return l(this,null,function*(){try{let e=new xo;e.addScope("email"),e.addScope("profile");let t=yield Gl(this.auth,e);console.log("Login successful:",t.user),this.router.navigate(["/dashboard"])}catch(e){throw console.error("Login error:",e),e}})}signOut(){return l(this,null,function*(){try{yield Kl(this.auth),console.log("Logout successful"),this.router.navigate(["/login"])}catch(e){throw console.error("Logout error:",e),e}})}get isLoggedIn(){return this.auth.currentUser!==null}get currentUser(){return this.auth.currentUser}get userDisplayName(){return this.auth.currentUser?.displayName||null}get userEmail(){return this.auth.currentUser?.email||null}get userPhotoURL(){return this.auth.currentUser?.photoURL||null}static \u0275fac=function(t){return new(t||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})};export{as as a,dh as b,Ih as c,ha as d,Y as e,Ri as f,iE as g,aE as h,cE as i,sy as j,un as k,Fc as l,oy as m,Vc as n,te as o,Ue as p,z as q,A as r,xe as s,be as t,pr as u,re as v,St as w,hn as x,N as y,Rt as z,Ps as A,vr as B,Ct as C,Ve as D,it as E,fn as F,nw as G,rw as H,Ir as I,zo as J,QS as K,eA as L,Yd as M};
