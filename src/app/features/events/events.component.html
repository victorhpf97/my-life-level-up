<div class="p-4">
  <p-card [style]="{'max-width':'820px','margin':'0 auto'}">
    <ng-template pTemplate="header">
      <div style="position:relative">
        <img src="{{image}}" alt="{{title}}" style="width:100%;height:260px;object-fit:cover;border-radius:6px" />
        <div style="position:absolute;left:12px;bottom:12px;background:rgba(0,0,0,0.6);color:#fff;padding:8px 12px;border-radius:6px;font-weight:700">{{ title }}</div>
      </div>
    </ng-template>

    <div class="p-3">
      <p class="text-sm text-600 mb-4">Lista com final de semana com a bocó para gente fazer de tudo</p>

      <div class="flex align-items-center justify-content-between mb-3" style="gap:1rem;">
        <div style="flex:1;min-width:0;">
          <p-progressBar [value]="progress" [style]="{'height':'12px','border-radius':'10px'}"></p-progressBar>
          <div class="text-sm text-600 mt-2" style="font-size:0.85rem">{{ checkedCount }} / {{ tasks.length }} completadas — {{ progress }}%</div>
        </div>

        <div style="width:72px;display:flex;align-items:center;justify-content:center;margin-left:12px">
          <img src="assets/img/achievement.svg"
               alt="achievement"
               [style.width.px]="56"
               [style.height.px]="56"
               [style.filter]="isAllChecked ? 'none' : 'grayscale(100%) opacity(0.45)'
               "
               [style.transition]="'filter 300ms ease, transform 300ms ease'"
               [style.transform]="isAllChecked ? 'scale(1.06)' : 'scale(1)'
               " />
        </div>
      </div>

      <div class="flex flex-column gap-3">
        <div *ngFor="let t of tasks" class="flex align-items-center gap-3">
          <p-checkbox [binary]="true" [(ngModel)]="t.checked" (ngModelChange)="saveState()"></p-checkbox>
          <label (click)="t.checked = !t.checked; saveState()" style="user-select:none;cursor:pointer">{{ t.label }}</label>
        </div>
      </div>
    </div>
  </p-card>
</div>
