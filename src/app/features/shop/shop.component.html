<div class="p-4">
  <h2 class="text-900 mb-4">Loja</h2>

  <div class="mb-6 flex gap-6 align-items-center">
    <div class="flex align-items-center gap-3">
      <img src="assets/img/golden-coin.png" alt="prioridade" style="width:36px;height:36px;object-fit:cover;" />
      <div>
        <div class="text-600 text-sm">Priorit√°rias</div>
        <div class="text-xl font-bold">{{ highPriorityCount }}</div>
      </div>
    </div>
    <div class="flex align-items-center gap-3">
      <img src="assets/img/bronze-coin.png" alt="normal" style="width:36px;height:36px;object-fit:cover;" />
      <div>
        <div class="text-600 text-sm">Normais</div>
        <div class="text-xl font-bold">{{ normalCount }}</div>
      </div>
    </div>
  </div>

  <div class="grid">
    <div class="col-12 md:col-4" *ngFor="let p of products">
      <p-card [style]="{'margin-bottom':'1rem','box-shadow':'0 6px 18px rgba(0,0,0,0.12)'}">
        <ng-template pTemplate="header">
          <div style="position:relative">
            <img src="{{p.image}}" style="width:100%;height:160px;object-fit:cover;border-radius:6px 6px 0 0" alt="{{p.title}}" />
            <div style="position:absolute;left:0;top:8px;background:rgba(0,0,0,0.5);color:#fff;padding:4px 8px;border-radius:0 8px 8px 0;font-size:12px">{{p.title}}</div>
          </div>
        </ng-template>

        <div class="p-3">
          <p class="text-sm text-700 mb-3">{{ p.description }}</p>

          <div class="flex align-items-center gap-4">
            <div class="flex align-items-center gap-2">
              <img src="assets/img/golden-coin.png" style="width:20px;height:20px" alt="prio" />
              <div class="text-sm">{{ p.priceHigh }}</div>
            </div>
            <div class="flex align-items-center gap-2">
              <img src="assets/img/bronze-coin.png" style="width:20px;height:20px" alt="norm" />
              <div class="text-sm">{{ p.priceNormal }}</div>
            </div>
          </div>
        </div>

        <ng-template pTemplate="footer">
          <div class="p-3">
            <button pButton type="button" icon="pi pi-shopping-cart" class="p-button-success" [style]="{'width':'100%','height':'44px','font-weight':'600'}" [disabled]="!canBuy(p)" (click)="buy(p)">
              <span style="margin-left:8px">Comprar</span>
            </button>
          </div>
        </ng-template>
      </p-card>
    </div>
  </div>
</div>
